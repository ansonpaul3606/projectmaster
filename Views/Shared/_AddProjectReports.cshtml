

@model PerfectWebERP.Models.ProjectReportsModel.Customerlist
<style>
    .Custominvalid {
        display: none;
        width: 100%;
        margin-top: 0.25rem;
        font-size: 80%;
        color: #FF6746;
    }

    .tableFixHead {
        overflow-y: auto; /* make the table scrollable if height is more than 200 px  */
        height: 250px; /* gives an initial height of 200px to the table */
    }

        .tableFixHead thead tr {
            position: sticky;
            top: 0;
            z-index: 1;
        }

    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        padding: 8px 16px;
    }

    th {
        background: var(--perfect-primary);
        color: #fff;
    }
    .btn-export {
        /*//height:10px;*/
        background-color: #2aa2ad;
        color: white;
    }
    .div-export {
        float: right;
        margin-left: 3px;
        /*background-color:red;*/
        height: 41px;
        /*// width:90px;*/
    }

        .div-export:hover {
            color: white !important;
        }

    .btn-export :hover {
        color: white !important;
    }
</style>

<div class="card ">

    <div class="card-header">
        <h4 class="card-title col-12">Project Reports@*<span class="badge light badge-success float-right" perfect-class="formTitle">REPORT</span>*@</h4>
    </div>
    <div>
    <div class="dropdown div-export" id="exppdf" style="display:none">

        <button class="btn  dropdown-toggle btn-sm btn-export" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span><i class="fa fa-file-o" style="font-size:16px"></i> </span>

        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="#" onclick="generatePdf(this)">PDF</a>
            @*<a class="dropdown-item" href="#" onclick="onExell()">EXCEL </a>*@

        </div>
    </div>
    </div>
    <div class="card-body">
        <form id="" class="form-valide" perfect-class="form" action="#" method="post" perfect-onFormSuccess="">
            <div class="">
                @*@Html.AntiForgeryToken()*@
                <div class="row">

                    <div class="col-sm-6">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label">
                                <span perfect-class="formGroupLabel">Report Name</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8 ">
                                <input type="hidden" id="Companyname" name="Companyname" class="form-control" value="@Model.CompName" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="input" />
                                <input type="hidden" id="Admin" name="Admin" class="form-control" value="@ViewBag.Admin" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="input" />
                                <select class="form-control  Action Actionbill" id="ID_Report" name="ID_Report" onchange="bindReportField(this)" data-id="ID_Report-error" perfect-class="formGroupControl" perfect-ctype="select" perfect-css="select">
                                    <option value="0">Please select</option>
                                    <option value="1">Project List</option>
                                    <option value="2">Project Wise Team List</option>
                                    <option value="3">Category Wise Projects</option>
                                    <option value="4">Site Visit</option>
                                    <option value="5">Cost Preparation</option>
                                    <option value="6">Project wise Material Allocation List</option>
                                    <option value="7">Project wise Material Usage List</option>
                                    <option value="8">Project wise Material Wastage List</option>
                                    <option value="9">Project wise Material Damage List</option>
                                    <option value="10">Project wise Material Balance/Stock list</option>
                                    <option value="11">Project wise Extra work list</option>
                                    <option value="12">Project Status list</option>
                                    <option value="13">Project Profitability Report</option>
                                    <option value="14">Project Profitability Summary Report</option>
                                    <option value="15">Project Fund Transaction Details</option>
                                    <option value="16">Petty Cashier Report</option>
                                    <option value="17">Project Profile</option>
                                </select>
                                <div id="ID_Report-error" class="Custominvalid animated fadeInUp producterror" style="display: none;">Please Select Report Name</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 DivRptType" style="display:none">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">Report Type</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <select class="form-control perfectValidate_string rptfilters" id="ReportType" name="ReportType" perfect-class="formGroupControl" placeholder="Select Report Type" perfect-ctype="select" perfect-css="select" onchange="ChangeReportType(this)">
                                    @*Option values are added through jquery in bindReportField*@

                                </select>
                                <div id="ReportType-error" class="text-danger temptableError"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 DivBranch">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">Branch</span>
                                <input type="hidden" name="FK_BranchMode" class="form-control" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="input" />
                            </label>
                            <div class="col-sm-8">

                                <select class="form-control perfectValidate_string_nm rptfilters" name="BranchID" id="BranchID" perfect-class="formGroupControl" perfect-ctype="select" perfect-css="select">
                                    <option value="0">All </option>

                                    @if (!(Model.BranchList is null))
                                    {
                                        foreach (var branch in Model.BranchList)
                                        {
                                            <option value="@branch.BranchID">@branch.Branch</option>
                                        }
                                    }


                                </select>

                            </div>
                        </div>

                    </div>
                    <div class="col-sm-6 DivPettyCashier">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span id="lblEmpl" perfect-class="formGroupLabel">Petty Cashier</span>
                            </label>
                            <div class="col-sm-8">
                                <select class="form-control rptfilters" name="FK_PettyCashier" id="FK_PettyCashier" perfect-elemet="stage" perfect-selectButtonAction="testing" perfect-class="formGroupControl" perfect-ctype="select" perfect-css="select">
                                    <option value="">Please Select </option>
                                    @if (!(Model.PettyCashierList is null))
                                    {
                                        foreach (var pet in Model.PettyCashierList)
                                        {
                                            <option value="@pet.ID_PettyCashier">@pet.PtyCshrName</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 DivProject">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">

                                <span perfect-class="formGroupLabel">Project </span>
                                <span id="lblProjectReq" class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <input type="hidden" class="form-control" name="IncludeTax" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="hidden" disabled />
                                    <input type="hidden" class="form-control" name="FK_TaxGroup" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="hidden" disabled />
                                    <input type="hidden" class="form-control" name="ID_ProjectBilling" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="hidden" disabled />
                                    <input type="text" class="form-control perfectValidate_string rptfilterfields" id="ProjectName" name="ProjectName" perfect-class="formGroupControl" perfect-ctype="input" perfect-css="input" disabled />
                                    <input type="hidden" name="FK_Project" class="form-control" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="input" value="" />
                                    <input type="hidden" name="FK_User" id="FK_User" class="form-control" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="input" value="" />

                                    <div class="input-group-append divbtnProject">

                                        <button id="addaccountsubhead-jq-searchButton3" class="btn btn-primary fa fa-search" type="button" onclick="GetCmnPopUpSearchValAssign(this, 158, 'Project Details',[],['ProjectDate'])" BindName="ProjectName" BindVal="FK_Project" Criterea1="BranchID" Criterea2="FK_User" Function="4" perfect-css="button"></button>
                                    </div>
                                    <div class="input-group-append divbtnClosedProject" style="display:none">

                                        <button id="addaccountsubhead-jq-searchButton3" class="btn btn-primary fa fa-search" type="button" onclick="GetCmnPopUpSearchValAssign(this, 160, 'Project Details',[],['ProjectDate'])" BindName="ProjectName" BindVal="FK_Project" Criterea1="BranchID" Criterea2="FK_User" Function="4" perfect-css="button"></button>
                                    </div>
                                    <div id="FK_Project-error" class="text-danger temptableError"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 DivStage">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">Project Stage</span>

                            </label>
                            <div class="col-sm-8">
                                <select class="form-control rptfilterfields" name="StageID" id="StageID" perfect-elemet="stage" perfect-selectButtonAction="testing" perfect-class="formGroupControl" perfect-ctype="select" perfect-css="select">
                                    <option value="">Please Select </option>


                                    @if (!(Model.StageList is null))
                                    {
                                        foreach (var cat in Model.StageList)
                                        {
                                            <option value="@cat.StageID">@cat.StageName</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 DivEmployee">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span id="lblEmpl" perfect-class="formGroupLabel ">Employee</span>
                            </label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <input type="text" class="form-control rptfilters" name="Employee" perfect-class="formGroupControl" perfect-ctype="input" perfect-css="input" disabled />
                                    <input type="hidden" name="FK_Employee" id="Employeeid" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="input" />

                                    <div class="input-group-append">
                                        <button id="employeesButton" class="btn btn-primary fa fa-search" type="button" perfect-css="button" onclick="GetCmnPopUpSearchValAssign(this,159,'Employee List',['ProjectID','Project'],['DepartmentID'])" criterea1="FK_Project" criterea2="StageID" bindname="Employee" bindval="FK_Employee"></button>
                                    </div>
                                </div>
                                <div class="text-danger temptableError"></div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 DivAsOnDate">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">As On Date</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <input type="date" class="form-control ActionDate rptfilters" id="AsonDate" data-id="AsonDate-error" name="AsonDate" perfect-class="formGroupControl" perfect-ctype="date" perfect-css="date" onchange="CheckAsOnDate()">

                                <div id="AsOnDate-error" class="text-danger temptableError"></div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 DivFromDate">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">From Date</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <input type="date" class="  form-control  Action rptfilters" id="FromDate" data-id="FromDate-error" name="FromDate" perfect-class="formGroupControl" max="2050-01-01" perfect-ctype="date" perfect-css="date" onchange="checkLimit(this)">
                                <div class="invalid-feedback animated fadeInUp limit-check" style="display: block;"></div>
                                @*<div id="FromDate-error" class="Custominvalid animated fadeInUp producterror" style="display: none;">Please Select From Date</div>*@
                                <div id="FromDate-error" class="Custominvalid animated fadeInUp FromDateerror" style="display: none;">From Date should be less than or equal to To Date</div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 DivToDate">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">To Date</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <input type="date" class="  form-control  Action rptfilters" id="ToDate" data-id="ToDate-error" name="ToDate" perfect-class="formGroupControl" max="2050-01-01" perfect-ctype="date" perfect-css="date" onchange="checkLimit(this)">
                                @*<div id="ToDate-error" class="Custominvalid animated fadeInUp producterror" style="display: none;">Please Select To Date</div>*@
                                <div class="invalid-feedback animated fadeInUp limit-check" style="display: block;"></div>
                                <div id="ToDate-error" class="Custominvalid animated fadeInUp  ToDateerror" style="display: none;">To Date should be Greater than or equal to From Date</div>
                            </div>
                        </div>
                    </div>


                    <div class="col-sm-6 DivOthercharge">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">Expense type</span>

                            </label>
                            <div class="col-sm-8">
                                <select class="form-control rptfilters" name="OtherchargeID" id="OtherchargeID" perfect-elemet="stage" perfect-selectButtonAction="testing" perfect-class="formGroupControl" perfect-ctype="select" perfect-css="select">
                                    <option value="">Please Select </option>


                                    @if (!(Model.OtherchargeList is null))
                                    {
                                        foreach (var cat in Model.OtherchargeList)
                                        {
                                            <option value="@cat.OtherchargeID">@cat.OtherchargeName</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 DivLeadNo">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">Lead No</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <div class="input-group">

                                    <input type="text" class="rptfilters form-control  Actionbill" name="LeadNo" data-id="LeadNo-error" perfect-class="formGroupControl" perfect-ctype="input" perfect-css="input" placeholder="Select Lead Number" disabled />
                                    <input type="hidden" name="Lead" class="form-control  Actionbill" data-id="LeadNo-error" perfect-class="formGroupControl" perfect-ctype="hidden" perfect-css="input" />

                                    <div class="input-group-append">
                                        @**'FK_Lead','ID_LeadGenerate''CustomeName', 'MobileNo','Address','FK_Customer','FK_CustomerOthers'*@  @*Function="3"*@
                                        <button id="addproduct-jq-searchButton3" class="btn btn-primary fa fa-search" type="button" perfect-css="button" onclick="GetCmnPopUpSearchValAssign(this,30,'Lead List',[],['CusMobile','CusEmail'])" Criterea1="0" Criterea2="0" BindName="LeadNo" BindVal="Lead"></button>
                                    </div>
                                    <div id="LeadNo-error" class="Custominvalid animated fadeInUp producterror" style="display: none;">Please Select Lead No</div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 DivMode" style="display:none">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">Mode</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <select class="form-control perfectValidate_string rptfilters" id="Detailed" name="Detailed" perfect-class="formGroupControl" placeholder="Select Mode" perfect-ctype="select" perfect-css="select">
                                    <option value="">Please Select</option>
                                    <option value="1">Detailed</option>
                                    <option value="0">Non Detailed</option>
                                </select>
                                <div id="Detailed-error" class="text-danger temptableError"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 DivCategory">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label rptfilterfields">
                                <span perfect-class="formGroupLabel">Category</span>

                            </label>
                            <div class="col-sm-8">
                                <select class="form-control rptfilters" name="FK_Category" perfect-class="formGroupControl" placeholder="Select Catogory" perfect-ctype="select" perfect-css="select">

                                    <option value="0">Please select</option>
                                    @if (!(Model.CategoryList is null))
                                    {
                                        foreach (var category in Model.CategoryList)
                                        {

                                            <option value="@category.ID_Catg">@category.CatgName</option>

                                        }
                                    }
                                </select>

                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 DivGrouping">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label">
                                <span perfect-class="formGroupLabel">Group By</span>
                                <span class="text-danger"></span>
                            </label>
                            <div class="col-sm-8 ">

                                <select class="form-control" id="Criteria" name="Criteria" perfect-class="formGroupControl" perfect-ctype="select" perfect-css="select">

                                    <option value="1">None</option>
                                    <option value="2">Project</option>
                                    <option value="3">Stage</option>
                                    <option value="4">Employee</option>
                                    @*<option value="5">Expense type</option>*@
                                    @*Option values are added through jquery in *@

                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6" style="display:none">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label">
                                <span perfect-class="formGroupLabel">Report Format</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <select class="form-control perfectValidate_string" id="Rptype" name="Rptype" perfect-class="formGroupControl" perfect-ctype="select" perfect-css="select">

                                    <option value="0">Please Select</option>
                                    <option value="1" selected>PDF</option>
                                    <option value="2">Excel</option>

                                </select>

                            </div>

                        </div>
                    </div>


                    <div class="col-sm-6" style="display:none">
                        <div class="form-group row" perfect-class="formGroup">
                            <label class="col-sm-4 col-form-label">
                                <span perfect-class="formGroupLabel">Report Field Type</span>
                                <span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <select class="form-control " id="RpFieldptype" name="RpFieldptype" perfect-class="formGroupControl" perfect-ctype="select" perfect-css="select">

                                    <option value="2">HeaderLogo + WaterMark + Footer </option>
                                    <option value="3">WaterMark</option>
                                    <option value="4">HeaderLogo + Footer</option>

                                </select>
                            </div>
                        </div>
                    </div>


                </div>


            </div>
            <div class="card-footer text-right" perfect-class="formFooter">
                <button id="addcompany-jq-addnewuser" type="button" class="btn btn-primary mr-3 " name="add" perfect-css="button" onclick="getreport(this)"><i class="fa fa-refresh fa-spin loaderClass "></i>Show</button>
                <button type="button" class="btn btn-light" perfect-css="button" onclick="ResetButton(this);" name="reset">Clear</button>
            </div>
            <div class="tb1">
                <table class="table table-responsive-md" id="Accountdetailsids">
                    <thead class="thead btn-primary" id="ReturnHead">
                        <tr></tr>
                    <tbody id="Accountdetails">
                        <tr id="0">
                            <td style="text-align:center;" colspan="9">No Records..</td>
                        </tr>
                    </tbody>
                </table>

            </div>
            <div id="TeamDeID" style="font-weight:bold ;display:none">
                <h4>Team  Details<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead igf" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridtransactionDetails" id="Gridtransactiontableid">
                    <table class="table table-responsive-lg" id="Gridtransactiondetailsid">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>

                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Team Name</th>
                                <th scope="col" style="text-align:left">Department</th>
                                <th scope="col" style="text-align:left">Employee</th>
                                <th scope="col" style="text-align:left">Employee Role</th>
                            </tr>



                        <tbody id="Gridtransactiondetailsbody">
                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>
            <div id="StageDeID" style="font-weight:bold ;display:none">
                <h4>Stage  Details<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead Stg" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridStageDetails" id="GridStageDetailsTableID">



                    <table class="table table-responsive-lg" id="GridStageDetailsID">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>
                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Stage Name</th>
                                <th scope="col" style="text-align:left">Team</th>
                                <th scope="col" style="text-align:left">Start Date</th>
                                <th scope="col" style="text-align:center">Duration</th>
                                <th scope="col" style="text-align:center">End Date</th>
                                <th scope="col" style="text-align:center">Work Percentage</th>
                                <th scope="col" style="text-align:center">Current Status</th>

                            </tr>



                        <tbody id="GridStagedetailsbody">

                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>

            <div id="matAlloDetID" style="font-weight:bold ;display:none">
                <h4>Material Allocation<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="">
                <div class="tableFixHead Mat" style="display:none">
                    <div class="table-responsive-lg" perfect-tempTable="GridmatAllocationDetails" id="GridMatAlloctionDetailsTableID">



                        <table class="table table-responsive-lg " id="GridMatAllDetailsID">
                            <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                                <tr>
                                    <th scope="col" style="text-align:center">Sl.No</th>
                                    <th scope="col" style="text-align:left">Date</th>
                                    <th scope="col" style="text-align:left">Item Name</th>
                                    <th scope="col" style="text-align:center">Quantity</th>
                                    <th scope="col" style="text-align:center">Unit</th>
                                    <th scope="col" style="text-align:center">Rate</th>
                                    <th scope="col" style="text-align:center">Amount</th>


                                </tr>



                            <tbody id="GridMatAllocationdetailsbody">

                                <tr id="0">
                                    <td style="text-align:center;" colspan="9">No Records..</td>
                                </tr>

                            </tbody>



                        </table>
                    </div>
                </div>
            </div>
            <div id="matUsageID" style="font-weight:bold ;display:none">
                <h4>Material Usage<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead MatUsage" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridmatusageDetails" id="GridmatusageDetailsTableID">



                    <table class="table table-responsive-lg" id="GridMatusageDetailsID">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>
                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Date</th>
                                <th scope="col" style="text-align:left">Item Name</th>
                                <th scope="col" style="text-align:center">Quantity</th>
                                <th scope="col" style="text-align:center">Unit</th>
                                <th scope="col" style="text-align:center">Rate</th>
                                <th scope="col" style="text-align:center">Amount</th>


                            </tr>



                        <tbody id="Gridmatusagedetailsbody">

                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>
            <div id="matwastageID" style="font-weight:bold ;display:none">
                <h4>Material Wastage<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead Matwastage" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridmatwastageDetails" id="GridmatwastageDetailsTableID">



                    <table class="table table-responsive-lg" id="GridmatwastageDetailsID">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>
                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Date</th>
                                <th scope="col" style="text-align:left">Item Name</th>
                                <th scope="col" style="text-align:center">Quantity</th>
                                <th scope="col" style="text-align:center">Unit</th>
                                <th scope="col" style="text-align:center">Rate</th>
                                <th scope="col" style="text-align:center">Amount</th>


                            </tr>



                        <tbody id="Gridmatwastagedetailsbody">

                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>
            <div id="matDamageID" style="font-weight:bold ;display:none">
                <h4>Material Damage<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead MatDamage" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridmatdamageDetails" id="GridmatdamageDetailsTableID">



                    <table class="table table-responsive-lg" id="GridmatdamageDetailsID">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>
                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Date</th>
                                <th scope="col" style="text-align:left">Item Name</th>
                                <th scope="col" style="text-align:center">Quantity</th>
                                <th scope="col" style="text-align:center">Unit</th>
                                <th scope="col" style="text-align:center">Rate</th>
                                <th scope="col" style="text-align:center">Amount</th>


                            </tr>



                        <tbody id="Gridmatdamagedetailsbody">

                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>
            <div id="ExtraWorkId" style="font-weight:bold ;display:none">
                <h4>Extra Work<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead Extrawork" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridExtraworkDetails" id="GridExtraworkDetailsTableID">



                    <table class="table table-responsive-lg" id="GridExtraworkDetailsID">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>
                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Date</th>
                                <th scope="col" style="text-align:left">Work Type</th>
                                <th scope="col" style="text-align:left">Stage</th>
                                <th scope="col" style="text-align:center">Sub Contractor</th>
                                <th scope="col" style="text-align:center">Amount</th>
                                <th scope="col" style="text-align:center">Remarks</th>


                            </tr>



                        <tbody id="GridExtraworkdetailsbody">

                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>
            <div id="PjTransationID" style="font-weight:bold ;display:none">
                <h4>Project Transaction<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead ProjectTransaction" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridPjTransactionDetails" id="GridPjTransactionDetailsTableID">



                    <table class="table table-responsive-lg" id="GridPjTransactionDetailsID">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>
                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Date</th>
                                <th scope="col" style="text-align:left">Expense</th>
                                <th scope="col" style="text-align:left">Stage</th>
                                <th scope="col" style="text-align:center">Debit</th>
                                <th scope="col" style="text-align:center">Credit</th>
                                <th scope="col" style="text-align:center">Remarks</th>


                            </tr>



                        <tbody id="GridPjTransactiondetailsbody">

                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>
            <div id="ResourceID" style="font-weight:bold ;display:none">
                <h4>Resource Details<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead Resource" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridResourceDetails" id="GridResourceDetailsTableID">



                    <table class="table table-responsive-lg" id="GridResourceDetailsID">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>
                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Date</th>
                                <th scope="col" style="text-align:left">Resource Type</th>
                                <th scope="col" style="text-align:left">Stage</th>
                                <th scope="col" style="text-align:center">Quantity</th>
                                <th scope="col" style="text-align:center">Amount</th>



                            </tr>



                        <tbody id="GridResourcedetailsbody">

                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>
            <div id="PjBillingID" style="font-weight:bold ;display:none">
                <h4>Project Billing<span perfect-class="formTitle"></span></h4>
            </div>
            <div class="tableFixHead ProjectBilling" style="display:none">
                <div class="table-responsive-lg" perfect-tempTable="GridPjbillingDetails" id="GridPjbillingTableID">



                    <table class="table table-responsive-lg" id="GridPjbillingDetailsID">
                        <thead class="thead btn-primary" style="width:50px" id="ReturnHead">


                            <tr>
                                <th scope="col" style="text-align:center">Sl.No</th>
                                <th scope="col" style="text-align:left">Date</th>
                                <th scope="col" style="text-align:left">Bill Mode</th>
                                <th scope="col" style="text-align:left">Amount</th>
                                <th scope="col" style="text-align:center">Tax</th>
                                <th scope="col" style="text-align:center">Other Charges</th>
                                <th scope="col" style="text-align:center">Amount</th>


                            </tr>



                        <tbody id="GridPjbillingdetailsbody">

                            <tr id="0">
                                <td style="text-align:center;" colspan="9">No Records..</td>
                            </tr>

                        </tbody>



                    </table>
                </div>
            </div>

            <div class="tb2" style="display:none">
                <div class="col-md-5">
                    <table class="table table-responsive-md table-bordered " id="PjDetailsids">
                        <thead class="thead btn-primary" id="ReturnHead">
                            <tr></tr>
                        <tbody id="Pjdetails">
                            <tr id="0">
                                <td style="text-align:center;" colspan="2">No Records..</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </form>
    </div>

    <div id="divReportSection">


    </div>
</div>
<script>

    var reportdetaildata;
    var Data;
    var ProjectDetailsData, TeamDetailsData, StageDetailsData, MatAllocationDetData, MatUsageDetData,
        MatWastageDetData, MatDamageDetData, ExtraWorkDetData, projectTranactionDetData, ResourceDetData,
        ProjectbiilingData, ProjectDescrption;
    function CheckAsOnDate() {
        var _DateValid = true;
        let AsonDate = $("#AsonDate").val();
        if (AsonDate == null || AsonDate == "") {
            $('#AsOnDate-error').text("Please Select As On Date"); _DateValid = false;
        } else {
            $('#AsOnDate-error').text("");
        }
        return _DateValid;
    }
    function BindReportType() {
        var options = "";
        if ($("#ID_Report").val() == 15) {
            options = '<option value="1">Fund Transaction</option> <option value="2">Fund Spend</option>';
        } else if ($("#ID_Report").val() == 16) {
            options = '<option value="1">Summary</option>';//' <option value="2">Detailed</option>';
        }
        $("#ReportType").html(options);
        if (options != "") {
            $("#ReportType").val("1").selectpicker('refresh');
        }
    }

    function bindReportField(ele) {
        let $thisForm = $('[perfect-class="form"]');
        $('.divbtnProject').show();
        $('.divbtnClosedProject').hide();
        $('.DivMode').hide();
        $('#Detailed').val("").selectpicker('refresh');
        $('#lblProjectReq').text("");
        $('.DivRptType').hide();
        $('.DivPettyCashier').hide();
        document.querySelector('.tb1').style.display = 'none';
        document.querySelector('.igf').style.display = 'none';
        document.querySelector('.Stg').style.display = 'none';
        document.querySelector('.Mat').style.display = 'none';
        document.querySelector('.MatUsage').style.display = 'none';
        document.querySelector('.Matwastage').style.display = 'none';
        document.querySelector('.MatDamage').style.display = 'none';
        document.querySelector('.Extrawork').style.display = 'none';
        document.querySelector('.ProjectTransaction').style.display = 'none';
        document.querySelector('.Resource').style.display = 'none';
        document.querySelector('.ProjectBilling').style.display = 'none';
        document.querySelector('#exppdf').style.display = 'none';
        $('#GridMatAlloctionDetailsTableID').hide();
        $('#StageDeID').hide();
        $('#TeamDeID').hide();
        $('#matAlloDetID').hide();
        $('#matUsageID').hide();
        $('#matwastageID').hide();
        $('#matDamageID').hide();
        $('#ExtraWorkId').hide();
        $('#PjTransationID').hide();
        $('#ResourceID').hide();
        $('#PjBillingID').hide();
        $('#Pjdetails').hide();

        if ($("#ID_Report").val() == 1 || $("#ID_Report").val() == 2 || $("#ID_Report").val() == 3) {
            $('.DivLeadNo').hide();
            $('.DivCategory').show();
            $('.DivFromDate').show();
            $('.DivToDate').show();
            $('.DivBranch').hide();
            $thisForm.find('[name=FK_Category]').val("0").selectpicker('refresh');
            $('.DivProject').hide();
            $('.DivStage').hide();
            $thisForm.find('[name=StageID]').val("0").selectpicker('refresh');
            $('.DivAsOnDate').hide();
            $('.DivEmployee').hide();
            $thisForm.find('[name=FK_Employee]').val(0);
            $('.DivOthercharge').hide();
            $thisForm.find('[name=OtherchargeID]').val("0").selectpicker('refresh');
            $('.DivGrouping').hide();
            $thisForm.find('[name=Criteria]').val("0").selectpicker('refresh');


        }
        else if ($("#ID_Report").val() == 4 || $("#ID_Report").val() == 5) {

            $('.DivLeadNo').show();
            $('.DivCategory').hide();
            $('.DivFromDate').hide();
            $('.DivToDate').hide();
            $thisForm.find('[name=FK_Category]').val("").selectpicker('refresh');
            $('.DivProject').hide();
            $('.DivAsOnDate').hide();
            $('.DivBranch').hide();

            $('.DivStage').hide();
            $thisForm.find('[name=StageID]').val("").selectpicker('refresh');
            $('.DivEmployee').hide();
            $thisForm.find('[name=FK_Employee]').val(0);
            $('.DivOthercharge').hide();
            $thisForm.find('[name=OtherchargeID]').val("").selectpicker('refresh');
            $('.DivGrouping').hide();
            $thisForm.find('[name=Criteria]').val("").selectpicker('refresh');

        }
        else if ($("#ID_Report").val() == 13) {

            $('.DivLeadNo').hide();
            $('.DivCategory').hide();
            $('.DivFromDate').hide();
            $('.DivToDate').hide();
            $('.DivProject').show();
            $('.DivAsOnDate').show();
            $('.DivMode').show(); $('.DivCategory').hide();
            $thisForm.find('[name=FK_Category]').val("").selectpicker('refresh');
            $('.DivBranch').show();
            $('#lblProjectReq').text("*");
            $('.DivStage').hide();
            $thisForm.find('[name=StageID]').val("").selectpicker('refresh');
            $('.DivEmployee').hide();
            $thisForm.find('[name=FK_Employee]').val(0);
            $('.DivOthercharge').hide();
            $thisForm.find('[name=OtherchargeID]').val("").selectpicker('refresh');
            $('.DivGrouping').hide();
            $thisForm.find('[name=Criteria]').val("").selectpicker('refresh');


        }
        else if ($("#ID_Report").val() == 14) {

            $('.DivLeadNo').hide();
            $('.DivCategory').hide();
            $('.DivFromDate').show();
            $('.DivToDate').show();
            $thisForm.find('[name=FK_Category]').val("").selectpicker('refresh');
            $('.DivProject').show();
            $('.divbtnProject').hide();
            $('.divbtnClosedProject').show();
            $('.DivAsOnDate').hide();
            $('.DivBranch').show();

            $('.DivStage').hide();
            $thisForm.find('[name=StageID]').val("").selectpicker('refresh');
            $('.DivEmployee').hide();
            $thisForm.find('[name=FK_Employee]').val(0);
            $('.DivOthercharge').hide();
            $thisForm.find('[name=OtherchargeID]').val("").selectpicker('refresh');
            $('.DivGrouping').hide();
            $thisForm.find('[name=Criteria]').val("").selectpicker('refresh');
            $thisForm.find('[name="FK_Project"]').val(0);
            $thisForm.find('[name="ProjectName"]').val('');


        }
        else if ($("#ID_Report").val() == 15) {
            $('.DivFromDate').show();
            $('.DivToDate').show();
            $('.DivRptType').show();

            BindReportType();


            $('.DivBranch').show();
            $('.DivProject').show();
            $('.DivStage').show();
            $thisForm.find('[name=StageID]').val("").selectpicker('refresh');
            $('.DivEmployee').show();
            $('.DivOthercharge').hide();
            $thisForm.find('[name=OtherchargeID]').val("").selectpicker('refresh');
            $('.DivGrouping').show();
            $('#Criteria').val(1).selectpicker('refresh');
            $('.DivLeadNo').hide();
            $('.DivCategory').hide();
            $('.DivAsOnDate').hide();
            $('.DivMode').hide();
            $('.DivCategory').hide();
            $thisForm.find('[name=FK_Category]').val("").selectpicker('refresh');
            $thisForm.find('[name="FK_Project"]').val(0);
            $thisForm.find('[name="ProjectName"]').val('');
        }
        else if ($("#ID_Report").val() == 16) {
            //$('.DivFromDate').show();
            //$('.DivToDate').show();
            $('.DivRptType').show();
            BindReportType();
            $('.DivBranch').show();

            $('.DivProject').hide();
            $('.DivStage').hide();
            $thisForm.find('[name=StageID]').val("").selectpicker('refresh');
            $('.DivEmployee').hide();
            $('.DivOthercharge').hide();
            $thisForm.find('[name=OtherchargeID]').val("").selectpicker('refresh');
            $('.DivGrouping').hide();
            $('#Criteria').val(1).selectpicker('refresh');
            $('.DivLeadNo').hide();
            $('.DivCategory').hide();
            $('.DivAsOnDate').hide();
            $('.DivMode').hide();
            $('.DivCategory').hide();
            $('.DivPettyCashier').show();
            //GetPettyCashierList();
            $thisForm.find('[name=FK_Category]').val("").selectpicker('refresh');
            if ($("#ReportType").val() == "2") {
                $('.DivOthercharge').show();
                $('.DivAsOnDate').show();
                $('.DivFromDate').hide();
                $('.DivToDate').hide();
            }
            else {
                $('.DivOthercharge').hide();
                $('.DivAsOnDate').show(); $('.DivFromDate').hide();
                $('.DivToDate').hide();
            }
            $thisForm.find('[name="FK_Project"]').val(0);
            $thisForm.find('[name="ProjectName"]').val('');
        }
        else if ($("#ID_Report").val() == 17) {

            $('.DivLeadNo').hide();
            $('.DivCategory').hide();
            $('.DivFromDate').hide();
            $('.DivToDate').hide();
            $('.DivProject').show();
            $('.DivAsOnDate').hide();
            $('.DivMode').show(); $('.DivCategory').hide();
            $thisForm.find('[name=FK_Category]').val("").selectpicker('refresh');
            $('.DivBranch').hide();
            $('#lblProjectReq').text("*");
            $('.DivStage').hide();
            $thisForm.find('[name=StageID]').val("").selectpicker('refresh');
            $('.DivEmployee').hide();
            $thisForm.find('[name=FK_Employee]').val(0);
            $('.DivOthercharge').hide();
            $thisForm.find('[name=OtherchargeID]').val("").selectpicker('refresh');
            $('.DivGrouping').hide();
            $('.DivMode').hide();
            $thisForm.find('[name=Criteria]').val("").selectpicker('refresh');


        }
        else {
            $('.DivLeadNo').hide();
            $('.DivCategory').hide();
            $('.DivFromDate').show();
            $('.DivToDate').show();
            $thisForm.find('[name=FK_Category]').val("").selectpicker('refresh');
            $('.DivProject').hide();
            $('.DivAsOnDate').hide();
            $('.DivBranch').hide();

            $('.DivStage').hide();
            $thisForm.find('[name=StageID]').val("").selectpicker('refresh');
            $('.DivEmployee').hide();
            $thisForm.find('[name=FK_Employee]').val(0);
            $('.DivOthercharge').hide();
            $thisForm.find('[name=OtherchargeID]').val("").selectpicker('refresh');
            $('.DivGrouping').hide();
            $thisForm.find('[name=Criteria]').val("").selectpicker('refresh');
            $thisForm.find('[name="FK_Project"]').val(0);
            $thisForm.find('[name="ProjectName"]').val('');

        }

    }

    function ChangeReportType(ele) {
        var rptType = $(ele).val();

        if (rptType == "2") {
            $('.DivOthercharge').show();
            $('.DivAsOnDate').show();
            $('.DivFromDate').hide();
            $('.DivToDate').hide();
            if ($("#ID_Report").val() == "15") {
                var html = " <option value='1'>None</option>" +
                    "  <option value='2' > Project</option >" +
                    "  <option value = '3' > Stage</option > " +
                    "  <option value = '4' > Employee</option > " +
                    "   <option value='5'>Expense type</option>";
                $("#Criteria").html(html); $('#Criteria').val(1).selectpicker('refresh');
            }
        }
        else {
            $('.DivOthercharge').hide();
            $('.DivAsOnDate').hide(); $('.DivFromDate').show();
            $('.DivToDate').show();
            if ($("#ID_Report").val() == "15") {
                var html = " <option value='1'>None</option>" +
                    "  <option value='2' > Project</option >" +
                    "  <option value = '3' > Stage</option > " +
                    "  <option value = '4' > Employee</option > ";
                $("#Criteria").html(html); $('#Criteria').val(1).selectpicker('refresh');
            }
        }
    }

    $(document).ready(function () {

        GetLeadFromdefault();
        var fk_user = '@ViewBag.FK_User';

        $("#FK_User").val(fk_user);






    });
    function GetLeadFromdefault() {
         let $thisForm = $('[perfect-class="form"]');
                $.ajax({
                url: '@Url.Action("GetEmployeeLeadDefault", "LeadGeneration")',
                type: "Get",
                dataType: "json",
                contentType: "application/json",
                success: function (ajaxOutput) {//<----- if ajax method executed succesfully,  we get the data passed from controller in this variable  => success: function (variable) {

                 if (ajaxOutput.Process.IsProcess) {
                     //var stateModel = createSelectList({ data: ajaxOutput.Data, hideColumn: ['EmpID'] });
                     $.each(ajaxOutput.Data, function (key, value) {

                         console.log('>_ Search button > list click', value);
                         $thisForm.find('[name=BranchID]').val(value.ID_Branch).selectpicker('refresh');


                     });
                 }
                 else {
                     $.each(ajaxOutput.Process.Message, function (key, value) {
                         NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': value });
                     });
                 }

             },


         });


     }


    (function () {
        //jQuery('form').validate();//<-----  Validate/initialize our form on page load
        jQuery('select').selectpicker();
    })();



////original
    function Getprojectreportdetail(ele) {

        let $thisForm = $(ele).closest('[perfect-class="form"]');

        var _cntinue = true;
        $("#FK_Project-error").text("");
        if ($("#ProjectName").val().trim() == "") {
            _cntinue = false;
            $("#FK_Project-error").text("Please Select Project");
        }
        debugger
        if (_cntinue) {

                var dateval = true;
            if (dateval) {
                let ProjectID = $thisForm.find('[name=FK_Project]').val() == "" ? $thisForm.find('[name=FK_Project]').val() : $thisForm.find('[name=FK_Project]').val();

                    var obj = {

                                FK_Project: ProjectID,
                                ReportMode: $('#ID_Report').val(),
                    }


                    $.ajax({
                        url: "@Url.Action("Getprojectreportdetail", "ProjectProfileReport")",
                        type: "GET",
                        data: obj,
                        dataType: "json",
                        contentType: "application/json",
                        success: function (ajaxOutput) {
                           // TeamDetailsData = ajaxOutput.TeamDetails.Data;
                            console.log('out123:', ajaxOutput.Data)
                            console.log('out123:', ajaxOutput.ProjectDetails.Data)
                            document.querySelector('#exppdf').style.display = 'block';
                            var CheckListHTML1 = '';
                            if (ajaxOutput.ProjectDetails.Process.IsProcess) {

                                if (ajaxOutput.ProjectDetails.Data.length > 0) {
                                    reportdetaildata = ajaxOutput.ProjectDetails.Data;
                                    ProjectDetailsData = ajaxOutput.ProjectDetails.Data;
                                }

                                if (ajaxOutput.ProjectDetails.Data.length > 0) {
                                    console.log('out123:', ajaxOutput.ProjectDetails.Data)
                                    $.each(ajaxOutput.ProjectDetails.Data, function (i, value) {

                                        CheckListHTML1 += "<tr>";
                                        CheckListHTML1 += "<th style='text-align:left;paddingright:20px'>" + "Project Name" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_Branch_td' style='text-align:left;font-weight:bold'>" + value.ProjectName + "</td>";
                                        CheckListHTML1 += "<th  style=text-align:left;>" + "Project Amount" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_opening_td' style='text-align:left;font-weight:bold'>" + value.ProjectAmount + "</td>";
                                        CheckListHTML1 += "<th  style=text-align:left;>" + "Branch Name" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_opening_td' style='text-align:left;font-weight:bold'>" + value.Branch + "</td>";
                                        CheckListHTML1 += "</tr>";
                                        CheckListHTML1 += "<tr>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Created Date" + "</td>";
                                        CheckListHTML1 += "<td  Class='jq_accounthead_td' style='text-align:left;font-weight:bold'>" + value.CreatedDate + "</td>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Final Amount" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_mobile_td' style='text-align:left;font-weight:bold'>" + value.FinalAmount + "</td>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Lead No" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_mobile_td' style='text-align:left;font-weight:bold'>" + value.LeadNo + "</td>";
                                        CheckListHTML1 += "</tr>";
                                        CheckListHTML1 += "<tr>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Project No" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.ProjectNo + "</td>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Start Date" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.StartDate + "</td>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Customer Name" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.CustomerName + "</td>";
                                        CheckListHTML1 += "</tr>";
                                        CheckListHTML1 += "<tr>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Short Name" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.ShortName + "</td>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Duration" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.Duration + "</td>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Contact No" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.ContactNo + "</td>";
                                        CheckListHTML1 += "</tr>";
                                        CheckListHTML1 += "<tr>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Category " + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.Category + "</td>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Due Date" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.DueDate + "</td>";
                                        CheckListHTML1 += "<th style=text-align:left;>" + "Address" + "</th>";
                                        CheckListHTML1 += "<td  Class='jq_accountsubhead_td' style='text-align:left;font-weight:bold'>" + value.Address + "</td>";
                                        CheckListHTML1 += "</tr>";


                                    });

                                    $("#Accountdetails").html(CheckListHTML1)
                                    document.querySelector('.tb1').style.display = 'block';

                                    // getTeamDetails(ele);

                                }
                                else {

                                    $("#Accountdetails").html(CheckListHTML1)
                                    document.querySelector('.tb1').style.display = 'none';


                                }

                            }
                            else {

                                $("#Accountdetails").html(CheckListHTML1)
                               // document.querySelector('.tb1').style.display = 'block';

                            }
                            if (ajaxOutput.TeamDetails.Process.IsProcess) {

                               // reportdetaildata = ajaxOutput.Data;
                                Data = ajaxOutput.TeamDetails.Data;
                                var CheckListHTML2 = '';
                              //  TeamDetailsData = ajaxOutput.TeamDetails.Data;
                               // Data = ajaxOutput.TeamDetails.Data;
                                if (ajaxOutput.TeamDetails.Data.length > 0) {

                                  //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.TeamDetails.Data, function (i, value) {

                                        CheckListHTML2 += "<tr>";
                                        CheckListHTML2 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML2 += "<td  Class='jq_TeamName_td' style='text-align:center width:20px'>" + value.TeamName + "</td>";

                                        CheckListHTML2 += "<td Class='jq_Department_td' style='text-align:center width:20px'>" + value.Department + "</td>";
                                        CheckListHTML2 += "<td class='jq_employee_td' style='text-align:center width:20px'>" + value.Employee + "</td>";



                                        CheckListHTML2 += "<td class='jq_emprole_td' style='text-align:left;'>" + value.EmployeeRole + "</td>";

                                        CheckListHTML2 += "</tr>";

                                    });

                                    $("#Gridtransactiondetailsbody").html(CheckListHTML2)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    $('#TeamDeID').show();
                                    $('#Gridtransactiontableid').show();
                                    // getTeamDetails(ele);

                                }
                                else {
                                    //else ajaxOutput.Data.length
                                   // $.each(ajaxOutput.Process.Message, function (key, value) {
                                       // NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                  //  });

                                }

                            }
                            if (ajaxOutput.StageDetails.Process.IsProcess) {
                                StageDetailsData = ajaxOutput.StageDetails.Data;
                                // reportdetaildata = ajaxOutput.Data;

                                var CheckListHTML3 = '';

                                if (ajaxOutput.StageDetails.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.StageDetails.Data, function (i, value) {

                                        CheckListHTML3 += "<tr>";
                                        CheckListHTML3 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML3 += "<td  Class='jq_StageName_td' style='text-align:center width:20px'>" + value.StageName + "</td>";
                                        CheckListHTML3 += "<td class='jq_StartDate_td' style='text-align:center width:20px'>" + value.TeamName + "</td>";

                                        CheckListHTML3 += "<td class='jq_StartDate_td' style='text-align:center width:20px'>" + value.StartDate + "</td>";
                                        CheckListHTML3 += "<td class='jq_Duration_td' style='text-align:center;'>" + value.Duration + "</td>";
                                        CheckListHTML3 += "<td class='jq_EndDate_td' style='text-align:center;'>" + value.EndDate + "</td>";
                                        CheckListHTML3 += "<td Class='jq_WorkPercentage_td' style='text-align:center'>" + value.WorkPercentage + "</td>";
                                        CheckListHTML3 += "<td class='jq_CurrentStatus_td' style='text-align:center;'>" + value.CurrentStatus + "</td>";

                                        CheckListHTML3 += "</tr>";

                                    });

                                    $("#GridStagedetailsbody").html(CheckListHTML3)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    $('#GridStageDetailsTableID').show();
                                    $('#StageDeID').show();
                                    // getTeamDetails(ele);

                                }
                                else {
                                    //else ajaxOutput.Data.length
                                  //  $.each(ajaxOutput.Process.Message, function (key, value) {
                                        //NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                   // });

                                }

                            }
                            if (ajaxOutput.MaterAllocation.Process.IsProcess) {

                                MatAllocationDetData = ajaxOutput.MaterAllocation.Data;
                                console.log(ajaxOutput.MaterAllocation.Data,'Mat')
                                var CheckListHTML4 = '';

                                if (ajaxOutput.MaterAllocation.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.MaterAllocation.Data, function (i, value) {

                                        CheckListHTML4 += "<tr>";
                                        CheckListHTML4 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML4 += "<td  Class='jq_Date_td' style='text-align:center width:20px'>" + value.Date + "</td>";


                                        CheckListHTML4 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.ItemName + "</td>";
                                        CheckListHTML4 += "<td class='jq_quantity_td' style='text-align:center;'>" + value.Quantity + "</td>";
                                        CheckListHTML4 += "<td class='jq_unit_td' style='text-align:center;'>" + value.Unit + "</td>";
                                        CheckListHTML4 += "<td Class='jq_Rate_td' style='text-align:center'>" + value.Rate + "</td>";
                                        CheckListHTML4 += "<td class='jq_amt_td' style='text-align:center;'>" + value.Amount + "</td>";

                                        CheckListHTML4 += "</tr>";

                                    });

                                    $("#GridMatAllocationdetailsbody").html(CheckListHTML4)
                                       document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    document.querySelector('.Mat').style.display = "block";
                                    document.querySelector('.MatUsage').style.display = "block";
                                    document.querySelector('.Matwastage').style.display = "block";
                                    document.querySelector('.MatDamage').style.display = "block";
                                    document.querySelector('.Extrawork').style.display = "block";
                                    document.querySelector('.ProjectTransaction').style.display = "block";
                                    document.querySelector('.Resource').style.display = "block";
                                    document.querySelector('.ProjectBilling').style.display = "block";
                                    $('#GridMatAlloctionDetailsTableID').show();
                                    $('#StageDeID').show();
                                    $('#TeamDeID').show();
                                    $('#matAlloDetID').show();
                                    $('#matUsageID').show();
                                    $('#matwastageID').show();
                                    $('#matDamageID').show();
                                    $('#ExtraWorkId').show();
                                    $('#PjTransationID').show();
                                    $('#ResourceID').show();
                                    $('#PjBillingID').show();
                                    // getTeamDetails(ele);

                                }

                                else {
                                    //else ajaxOutput.Data.length
                                  //  $.each(ajaxOutput.Process.Message, function (key, value) {
                                      //  NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                    //});

                                }

                            }
                            else {
                                /// else condition ajaxOutput.Process.IsProcess
                               // $.each(ajaxOutput.Process.Message, function (key, value) {
                                   // NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                               /// });
                            };
                            if (ajaxOutput.MaterUsage.Process.IsProcess) {

                                // reportdetaildata = ajaxOutput.Data;
                                MatUsageDetData = ajaxOutput.MaterUsage.Data;
                                console.log(ajaxOutput.MaterUsage.Data, 'MaterUsage')
                                var CheckListHTML5 = '';

                                if (ajaxOutput.MaterUsage.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.MaterUsage.Data, function (i, value) {

                                        CheckListHTML5 += "<tr>";
                                        CheckListHTML5 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML5 += "<td  Class='jq_Date_td' style='text-align:center width:20px'>" + value.Date + "</td>";


                                        CheckListHTML5 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.ItemName + "</td>";
                                        CheckListHTML5 += "<td class='jq_quantity_td' style='text-align:center;'>" + value.Quantity + "</td>";
                                        CheckListHTML5 += "<td class='jq_unit_td' style='text-align:center;'>" + value.Unit + "</td>";
                                        CheckListHTML5 += "<td Class='jq_Rate_td' style='text-align:center'>" + value.Rate + "</td>";
                                        CheckListHTML5 += "<td class='jq_amt_td' style='text-align:center;'>" + value.Amount + "</td>";

                                        CheckListHTML5 += "</tr>";

                                    });

                                    $("#Gridmatusagedetailsbody").html(CheckListHTML5)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    document.querySelector('.Mat').style.display = "block";
                                    document.querySelector('.MatUsage').style.display = "block";
                                    document.querySelector('.MatDamage').style.display = "block";
                                    document.querySelector('.Matwastage').style.display = "block";
                                    document.querySelector('.Extrawork').style.display = "block";
                                    document.querySelector('.ProjectTransaction').style.display = "block";
                                    document.querySelector('.Resource').style.display = "block";
                                    document.querySelector('.ProjectBilling').style.display = "block";
                                    $('#GridmatusageDetailsTableID').show();
                                    $('#StageDeID').show();
                                    $('#TeamDeID').show();
                                    $('#matUsageID').show();
                                    $('#matAlloDetID').show();
                                    $('#matwastageID').show();
                                    $('#matDamageID').show();
                                    $('#ExtraWorkId').show();
                                    $('#PjTransationID').show();
                                    $('#ResourceID').show();
                                    $('#PjBillingID').show();
                                    // getTeamDetails(ele);

                                }

                                else {
                                    //else ajaxOutput.Data.length
                                    $.each(ajaxOutput.Process.Message, function (key, value) {
                                        NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                    });

                                }

                            }
                            else {
                                /// else condition ajaxOutput.Process.IsProcess
                              //  $.each(ajaxOutput.Process.Message, function (key, value) {
                                  //  NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                               // });
                            };
                            if (ajaxOutput.MaterWastage.Process.IsProcess) {

                                MatWastageDetData = ajaxOutput.MaterWastage.Data;
                                console.log(ajaxOutput.MaterWastage.Data, 'MaterWastage')
                                var CheckListHTML6 = '';

                                if (ajaxOutput.MaterWastage.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.MaterWastage.Data, function (i, value) {

                                        CheckListHTML6 += "<tr>";
                                        CheckListHTML6 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML6 += "<td  Class='jq_Date_td' style='text-align:center width:20px'>" + value.Date + "</td>";


                                        CheckListHTML6 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.ItemName + "</td>";
                                        CheckListHTML6 += "<td class='jq_quantity_td' style='text-align:center;'>" + value.Quantity + "</td>";
                                        CheckListHTML6 += "<td class='jq_unit_td' style='text-align:center;'>" + value.Unit + "</td>";
                                        CheckListHTML6 += "<td Class='jq_Rate_td' style='text-align:center'>" + value.Rate + "</td>";
                                        CheckListHTML6 += "<td class='jq_amt_td' style='text-align:center;'>" + value.Amount + "</td>";

                                        CheckListHTML6 += "</tr>";

                                    });

                                    $("#Gridmatwastagedetailsbody").html(CheckListHTML6)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    document.querySelector('.Mat').style.display = "block";
                                    document.querySelector('.MatUsage').style.display = "block";
                                    document.querySelector('.Matwastage').style.display = "block";
                                    document.querySelector('.MatDamage').style.display = "block";
                                    document.querySelector('.Extrawork').style.display = "block";
                                    document.querySelector('.ProjectTransaction').style.display = "block";
                                    document.querySelector('.Resource').style.display = "block";
                                    document.querySelector('.ProjectBilling').style.display = "block";
                                    $('#GridmatwastageDetailsTableID').show();
                                    $('#StageDeID').show();
                                    $('#TeamDeID').show();
                                    $('#matAlloDetID').show();
                                    $('#matUsageID').show();
                                    $('#matwastageID').show();
                                    $('#matDamageID').show();
                                    $('#ExtraWorkId').show();
                                    $('#PjTransationID').show();
                                    $('#ResourceID').show();
                                    $('#PjBillingID').show();

                                }

                                else {
                                    //else ajaxOutput.Data.length
                                    $.each(ajaxOutput.Process.Message, function (key, value) {
                                        NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                    });

                                }

                            }
                            else {
                                /// else condition ajaxOutput.Process.IsProcess
                              //  $.each(ajaxOutput.MaterWastage.Process.Message, function (key, value) {
                                    //NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                //});
                            };
                            if (ajaxOutput.MaterDamage.Process.IsProcess) {

                                MatDamageDetData = ajaxOutput.MaterDamage.Data;
                                console.log(ajaxOutput.MaterDamage.Data, 'MaterDamage')
                                var CheckListHTML7 = '';

                                if (ajaxOutput.MaterDamage.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.MaterDamage.Data, function (i, value) {

                                        CheckListHTML7 += "<tr>";
                                        CheckListHTML7 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML7 += "<td  Class='jq_Date_td' style='text-align:center width:20px'>" + value.Date + "</td>";


                                        CheckListHTML7 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.ItemName + "</td>";
                                        CheckListHTML7 += "<td class='jq_quantity_td' style='text-align:center;'>" + value.Quantity + "</td>";
                                        CheckListHTML7 += "<td class='jq_unit_td' style='text-align:center;'>" + value.Unit + "</td>";
                                        CheckListHTML7 += "<td Class='jq_Rate_td' style='text-align:center '>" + value.Rate + "</td>";
                                        CheckListHTML7 += "<td class='jq_amt_td' style='text-align:center;'>" + value.Amount + "</td>";

                                        CheckListHTML7 += "</tr>";

                                    });

                                    $("#Gridmatdamagedetailsbody").html(CheckListHTML7)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    document.querySelector('.Mat').style.display = "block";
                                    document.querySelector('.MatUsage').style.display = "block";
                                    document.querySelector('.MatDamage').style.display = "block";
                                    document.querySelector('.Matwastage').style.display = "block";
                                    document.querySelector('.Extrawork').style.display = "block";
                                    document.querySelector('.ProjectTransaction').style.display = "block";
                                    document.querySelector('.Resource').style.display = "block";
                                    document.querySelector('.ProjectBilling').style.display = "block";
                                    $('#GridmatdamageDetailsTableID').show();
                                    $('#StageDeID').show();
                                    $('#TeamDeID').show();
                                    $('#matAlloDetID').show();
                                    $('#matUsageID').show();
                                    $('#matwastageID').show();
                                    $('#matDamageID').show();
                                    $('#ExtraWorkId').show();
                                    $('#PjTransationID').show();
                                    $('#ResourceID').show();
                                    $('#PjBillingID').show();
                                    // getTeamDetails(ele);

                                }

                                else {
                                    //else ajaxOutput.Data.length
                                    $.each(ajaxOutput.Process.Message, function (key, value) {
                                        NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                    });

                                }

                            }
                            else {
                                /// else condition ajaxOutput.Process.IsProcess
                               // $.each(ajaxOutput.MaterDamage.Process.Message, function (key, value) {
                                 //   NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                               // });
                            };
                            if (ajaxOutput.MaterExtraWork.Process.IsProcess) {

                                ExtraWorkDetData = ajaxOutput.MaterExtraWork.Data;
                                console.log(ajaxOutput.MaterExtraWork.Data, 'MaterExtraWork')
                                var CheckListHTML8 = '';

                                if (ajaxOutput.MaterExtraWork.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.MaterExtraWork.Data, function (i, value) {

                                        CheckListHTML8 += "<tr>";
                                        CheckListHTML8 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML8 += "<td  Class='jq_Date_td' style='text-align:center width:20px'>" + value.Date + "</td>";


                                        CheckListHTML8 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.WorkType + "</td>";
                                        CheckListHTML8 += "<td class='jq_quantity_td' style='text-align:left;'>" + value.Stage + "</td>";
                                        CheckListHTML8 += "<td class='jq_unit_td' style='text-align:left;'>" + value.SubContractor + "</td>";
                                        CheckListHTML8 += "<td Class='jq_Rate_td' style='text-align:center'>" + value.Amount + "</td>";
                                        CheckListHTML8 += "<td class='jq_amt_td' style='text-align:center;'>" + value.Remarks + "</td>";

                                        CheckListHTML8 += "</tr>";

                                    });

                                    $("#GridExtraworkdetailsbody").html(CheckListHTML8)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    document.querySelector('.Mat').style.display = "block";
                                    document.querySelector('.MatUsage').style.display = "block";
                                    document.querySelector('.Matwastage').style.display = "block";
                                    document.querySelector('.MatDamage').style.display = "block";
                                    document.querySelector('.Extrawork').style.display = "block";
                                    document.querySelector('.ProjectTransaction').style.display = "block";
                                    document.querySelector('.Resource').style.display = "block";
                                    document.querySelector('.ProjectBilling').style.display = "block";
                                    $('#GridExtraworkDetailsTableID').show();
                                    $('#StageDeID').show();
                                    $('#TeamDeID').show();
                                    $('#matAlloDetID').show();
                                    $('#matUsageID').show();
                                    $('#matwastageID').show();
                                    $('#matDamageID').show();
                                    $('#ExtraWorkId').show();
                                    $('#PjTransationID').show();
                                    $('#ResourceID').show();
                                    $('#PjBillingID').show();
                                    // getTeamDetails(ele);

                                }

                                else {
                                    //else ajaxOutput.Data.length
                                    $.each(ajaxOutput.Process.Message, function (key, value) {
                                        NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                    });

                                }

                            }
                            else {
                                /// else condition ajaxOutput.Process.IsProcess
                               // $.each(ajaxOutput.MaterExtraWork.Process.Message, function (key, value) {
                                   // NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                               // });
                            };
                            if (ajaxOutput.MaterProjectT.Process.IsProcess) {

                                projectTranactionDetData = ajaxOutput.MaterProjectT.Data;
                                console.log(ajaxOutput.MaterProjectT.Data, 'MaterProjectT')
                                var CheckListHTML9 = '';

                                if (ajaxOutput.MaterProjectT.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.MaterProjectT.Data, function (i, value) {

                                        CheckListHTML9 += "<tr>";
                                        CheckListHTML9 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML9 += "<td  Class='jq_Date_td' style='text-align:center width:20px'>" + value.Date + "</td>";


                                        CheckListHTML9 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.Expense + "</td>";
                                        CheckListHTML9 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.Stage + "</td>";
                                        CheckListHTML9 += "<td class='jq_quantity_td' style='text-align:center;'>" + value.Debit + "</td>";
                                        CheckListHTML9 += "<td class='jq_unit_td' style='text-align:center;'>" + value.Credit + "</td>";

                                        CheckListHTML9 += "<td class='jq_amt_td' style='text-align:center;'>" + value.Remarks + "</td>";

                                        CheckListHTML9 += "</tr>";

                                    });

                                    $("#GridPjTransactiondetailsbody").html(CheckListHTML9)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    document.querySelector('.Mat').style.display = "block";
                                    document.querySelector('.MatUsage').style.display = "block";
                                    document.querySelector('.MatDamage').style.display = "block";
                                    document.querySelector('.Matwastage').style.display = "block";
                                    document.querySelector('.Extrawork').style.display = "block";
                                    document.querySelector('.ProjectTransaction').style.display = "block";
                                    document.querySelector('.Resource').style.display = "block";
                                    document.querySelector('.ProjectBilling').style.display = "block";
                                    $('#GridPjTransactionDetailsTableID').show();
                                    $('#StageDeID').show();
                                    $('#TeamDeID').show();
                                    $('#matAlloDetID').show();
                                    $('#matUsageID').show();
                                    $('#matwastageID').show();
                                    $('#matDamageID').show();
                                    $('#ExtraWorkId').show();
                                    $('#PjTransationID').show();
                                    $('#ResourceID').show();
                                    $('#PjBillingID').show();
                                    // getTeamDetails(ele);

                                }

                                else {
                                    //else ajaxOutput.Data.length
                                    $.each(ajaxOutput.Process.Message, function (key, value) {
                                        NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                    });

                                }

                            }
                            else {
                                /// else condition ajaxOutput.Process.IsProcess
                               // $.each(ajaxOutput.Process.Message, function (key, value) {
                                   // NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                               // });
                            };
                            if (ajaxOutput.ResorceDet.Process.IsProcess) {

                                ResourceDetData = ajaxOutput.ResorceDet.Data;
                                console.log(ajaxOutput.ResorceDet.Data, 'ResorceDet')
                                var CheckListHTML10 = '';

                                if (ajaxOutput.ResorceDet.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.ResorceDet.Data, function (i, value) {

                                        CheckListHTML10 += "<tr>";
                                        CheckListHTML10 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML10 += "<td  Class='jq_Date_td' style='text-align:center width:20px'>" + value.Date + "</td>";


                                        CheckListHTML10 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.ResourceType + "</td>";
                                        CheckListHTML10 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.Stage + "</td>";
                                        CheckListHTML10 += "<td class='jq_quantity_td' style='text-align:center;'>" + value.Quantity + "</td>";
                                        CheckListHTML10 += "<td class='jq_unit_td' style='text-align:center;'>" + value.Amount + "</td>";



                                        CheckListHTML10 += "</tr>";

                                    });

                                    $("#GridResourcedetailsbody").html(CheckListHTML10)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    document.querySelector('.Mat').style.display = "block";
                                    document.querySelector('.MatUsage').style.display = "block";
                                    document.querySelector('.Matwastage').style.display = "block";
                                    document.querySelector('.MatDamage').style.display = "block";
                                    document.querySelector('.Extrawork').style.display = "block";
                                    document.querySelector('.ProjectTransaction').style.display = "block";
                                    document.querySelector('.Resource').style.display = "block";
                                    document.querySelector('.ProjectBilling').style.display = "block";

                                    $('#GridResourceDetailsTableID').show();
                                    $('#StageDeID').show();
                                    $('#TeamDeID').show();
                                    $('#matAlloDetID').show();
                                    $('#matUsageID').show();
                                    $('#matwastageID').show();
                                    $('#matDamageID').show();
                                    $('#ExtraWorkId').show();
                                    $('#PjTransationID').show();
                                    $('#ResourceID').show();
                                    $('#PjBillingID').show();
                                    // getTeamDetails(ele);

                                }

                                else {
                                    //else ajaxOutput.Data.length
                                  //  $.each(ajaxOutput.Process.Message, function (key, value) {
                                   //     NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                   // });

                                }

                            }
                            else {
                                /// else condition ajaxOutput.Process.IsProcess
                               // $.each(ajaxOutput.Process.Message, function (key, value) {
                                  //  NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                               // });
                            };
                            if (ajaxOutput.projectBilling.Process.IsProcess) {

                                ProjectbiilingData = ajaxOutput.projectBilling.Data;
                                console.log(ajaxOutput.projectBilling.Data, 'projectBilling')
                                var CheckListHTML11 = '';

                                if (ajaxOutput.projectBilling.Data.length > 0) {

                                    //  $('#Accountdetails').show();
                                    $.each(ajaxOutput.projectBilling.Data, function (i, value) {

                                        CheckListHTML11 += "<tr>";
                                        CheckListHTML11 += "<td  Class='jq_slno_td' style='text-align:center'>" + value.SlNo + "</td>";
                                        CheckListHTML11 += "<td  Class='jq_Date_td' style='text-align:center width:20px'>" + value.Date + "</td>";


                                        CheckListHTML11 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.BillMode + "</td>";
                                        CheckListHTML11 += "<td class='jq_ItemName_td' style='text-align:center width:20px'>" + value.Amount + "</td>";
                                        CheckListHTML11 += "<td class='jq_quantity_td' style='text-align:left;'>" + value.Tax + "</td>";
                                        CheckListHTML11 += "<td class='jq_unit_td' style='text-align:center;'>" + value.OtherCharges + "</td>";
                                        CheckListHTML11 += "<td class='jq_unit_td' style='text-align:center;'>" + value.NetAmount + "</td>";


                                        CheckListHTML11 += "</tr>";

                                    });

                                    $("#GridPjbillingdetailsbody").html(CheckListHTML11)
                                    document.querySelector('.tb1').style.display = 'block';
                                    document.querySelector('.igf').style.display = "block";
                                    document.querySelector('.Stg').style.display = "block";
                                    document.querySelector('.Mat').style.display = "block";
                                    document.querySelector('.MatUsage').style.display = "block";
                                    document.querySelector('.MatDamage').style.display = "block";
                                    document.querySelector('.Matwastage').style.display = "block";
                                    document.querySelector('.Extrawork').style.display = "block";
                                    document.querySelector('.ProjectTransaction').style.display = "block";
                                    document.querySelector('.Resource').style.display = "block";
                                    document.querySelector('.ProjectBilling').style.display = "block";
                                    $('#GridPjbillingTableID').show();
                                    $('#StageDeID').show();
                                    $('#TeamDeID').show();
                                    $('#matAlloDetID').show();
                                    $('#matUsageID').show();
                                    $('#matwastageID').show();
                                    $('#matDamageID').show();
                                    $('#ExtraWorkId').show();
                                    $('#PjTransationID').show();
                                    $('#ResourceID').show();
                                    $('#PjBillingID').show();
                                    // getTeamDetails(ele);

                                }

                                else {
                                    //else ajaxOutput.Data.length
                                  //  $.each(ajaxOutput.Process.Message, function (key, value) {
                                      //  NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                   // });

                                }

                            }
                            else {
                                /// else condition ajaxOutput.Process.IsProcess
                               // $.each(ajaxOutput.Process.Message, function (key, value) {
                                  //  NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                //});
                            };
                            if (ajaxOutput.Details.Process.IsProcess) {

                                reportdetaildata = ajaxOutput.ProjectDetails.Data;
                                ProjectDetailsData = ajaxOutput.ProjectDetails.Data;
                                ProjectDescrption = ajaxOutput.Details.Data;
                                var CheckListHTML13 = '';

                                if (ajaxOutput.Details.Data.length > 0) {

                                    $('#Pjdetails').show();
                                    $.each(ajaxOutput.Details.Data, function (i, value) {





                                        CheckListHTML13 += "<tr>";
                                        CheckListHTML13 += "<th style='text-align:left;paddingright:20px'>" + "Completed Percentage " + "</th>";
                                        CheckListHTML13 += "<td  Class='jq_Branch_td' style='text-align:left;font-weight:bold'>" + value.CompletedPercentage + "</td>";


                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "<tr>";
                                        CheckListHTML13 += "<th style=text-align:left;>" + "Amount Due" + "</td>";
                                        CheckListHTML13 += "<td  Class='jq_accounthead_td' style='text-align:left;font-weight:bold'>" + value.AmountDue + "</td>";

                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "<tr>";
                                        CheckListHTML13 += "<th style=text-align:left;>" + "Total Expense" + "</td>";
                                        CheckListHTML13 += "<td  Class='jq_accounthead_td' style='text-align:left;font-weight:bold'>" + value.TotalExpense + "</td>";

                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "<tr>";
                                        CheckListHTML13 += "<th style=text-align:left;>" + "Total Income" + "</td>";
                                        CheckListHTML13 += "<td  Class='jq_accounthead_td' style='text-align:left;font-weight:bold'>" + value.TotalIncome + "</td>";

                                        CheckListHTML13 += "</tr>";

                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "<tr>";
                                        CheckListHTML13 += "<th style=text-align:left;>" + value.ProfitLossLabel1 + "</td>";
                                        CheckListHTML13 += "<td  Class='jq_accounthead_td' style='text-align:left;font-weight:bold'>" + value.ProfitLossAmount + "</td>";

                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "</tr>";
                                        CheckListHTML13 += "<tr>";
                                        CheckListHTML13 += "<th style=text-align:left;>" + value.ProfitLossLabel2 + "</td>";
                                        CheckListHTML13 += "<td  Class='jq_accounthead_td' style='text-align:left;font-weight:bold'>" + value.ProfitLossAPer + "</td>";

                                        CheckListHTML13 += "</tr>";


                                    });

                                    $("#Pjdetails").html(CheckListHTML13)
                                    document.querySelector('.tb2').style.display = 'block';

                                    // getTeamDetails(ele);

                                }
                                else {
                                    //else ajaxOutput.Data.length
                                  //  $.each(ajaxOutput.Process.Message, function (key, value) {
                                      //  NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'No Records...' });
                                   // });

                                }

                            }
                           // }
                        },

                    });

                }
                else {




                }



        }
        else {


        }


    }
    function getreport(ele) {
        debugger;
        let $thisForm = $(ele).closest('[perfect-class="form"]');
        if ($('#ID_Report').val() == 17) {

            Getprojectreportdetail(ele);
        }

        else {
            var _cntinue = true; $("#FK_Project-error").text(""); $("#AsonDate-error").hide(); $("#AsonDate-error").text(""); $("#Detailed-error").text("");
            if ($('#ID_Report').val() == 13) {
                if ($("#ProjectName").val().trim() == "") {
                    _cntinue = false;
                    $("#FK_Project-error").text("Please Select Project");
                }

                if ($("#AsonDate").val().trim() == "" || $("#AsonDate").val() == null) {
                    _cntinue = false;

                    $("#AsonDate-error").show();
                    $("#AsonDate-error").text("Please Select As On Date");

                }
                if ($("#Detailed").val().trim() == "") {
                    _cntinue = false;

                    $("#Detailed-error").show();
                    $("#Detailed-error").text("Please Select Mode");

                }


            } else if ($('#ID_Report').val() == 16) {
                if ($("#AsonDate").val().trim() == "" || $("#AsonDate").val() == null) {
                    _cntinue = false;

                    $("#AsonDate-error").show();
                    $("#AsonDate-error").text("Please Select As On Date");

                }
            }

            var dateval = true;
            if ($('#ID_Report').val() != 4 && $('#ID_Report').val() != 5 && $('#ID_Report').val() != 13) {
                dateval = checkLimit(ele);
            }

            if (dateval) {
                if ($('#ID_Report').val() != 4 || $('#ID_Report').val() != 5) {
                    $("#FromDate-error").text("");
                    $("#ToDate-error").text("");
                    if ($("#FromDate").val().trim() == "" || $("#FromDate").val() == null) {
                        _cntinue = false;

                        $("#FromDate-error").show();
                        $("#FromDate-error").text("Please Select From Date");

                    } if ($("#ToDate").val().trim() == "" || $("#ToDate").val() == null) {
                        _cntinue = false;

                        $("#ToDate-error").show();
                        $("#ToDate-error").text("Please Select To Date");
                        $(".limit-check").hide();
                    }
                }

            }
            if (_cntinue) {
                if (ValidateAddrepdetails($('#ID_Report').val()) <= 0) {



                    if (dateval) {
                        $(".col-sm-6").prop("disabled", true);
                        var Report_Id = $('#ID_Report').val();

                        let _dateToday = new Date();
                        var today = _dateToday.getFullYear() + "/" + _dateToday.getMonth() + "/" + _dateToday.getDate();
                        var Fromdate = $('#FromDate').val() == "" ? today : $('#FromDate').val();
                        var FK_Project = 0;
                        if (Report_Id == "13") {
                            Fromdate = $('#AsonDate').val() == "" ? today : $('#AsonDate').val();
                            FK_Project = $thisForm.find('[name="FK_Project"]').val() == "" ? "0" : $thisForm.find('[name="FK_Project"]').val();
                        }
                        if (Report_Id == "14") {

                            FK_Project = $thisForm.find('[name="FK_Project"]').val() == "" ? "0" : $thisForm.find('[name="FK_Project"]').val();
                        }
                        if (Report_Id == "15") {

                            FK_Project = $thisForm.find('[name="FK_Project"]').val() == "" ? "0" : $thisForm.find('[name="FK_Project"]').val();
                        }
                        if (Report_Id == "16") {
                            Fromdate = $('#AsonDate').val() == "" ? today : $('#AsonDate').val();
                            FK_Project = $thisForm.find('[name="FK_Project"]').val() == "" ? "0" : $thisForm.find('[name="FK_Project"]').val();
                        }
                        var Todate = $('#ToDate').val() == "" ? today : $('#ToDate').val();

                        var Reportformat = $('#Rptype').val();


                        var Company = $thisForm.find('[name="Companyname"]').val();


                        var Category = $thisForm.find('[name="FK_Category"]').val();
                        var FK_Area = $thisForm.find('[name="Area_ID"]').val();


                        ////filter
                        var employ = $thisForm.find('[name=FK_Employee]').val();
                        var product = $thisForm.find('[name="ProductName"]').val();
                        var action = $('#FK_NetAction :selected').text();
                        var actiontyp = $('#FK_ActionType :selected').text();
                        var stats = $('#Status :selected').text();
                        var crtireanam = $thisForm.find('[name="Criteria"] option:selected').text();
                        var leadname = $thisForm.find('[name="FK_Priority"] option:selected').text();
                        var Branchname = $('#BranchID :selected').text();
                        var Stage = $('#StageID :selected').text();
                        var Expense = $('#OtherchargeID :selected').text();
                        var FK_PettyCashier = $('#FK_PettyCashier').val().trim() == "" ? "0" : $('#FK_PettyCashier').val().trim();
                        var ReportSubMode = 0;
                        if ($('#ReportType').val() != null)
                            ReportSubMode = $('#ReportType').val().trim() == "" ? "0" : $('#ReportType').val().trim();



                        ////

                        var LeadNo = $thisForm.find('[name="Lead"]').val() == "" ? "0" : $thisForm.find('[name="Lead"]').val();
                        if (Report_Id == 4) {
                            var TableCount = 3;
                        }
                        else if (Report_Id == 5) {
                            var TableCount = 4;
                        }
                        else {
                            var TableCount = 0;
                        }
                        var Criteria = $('#Criteria').val();
                        //var Status = $('#Status').val();
                        //if (Status == undefined)
                        //{
                        //    Status = 0;
                        //}

                        var Status = $('#Status').val();
                        var Reportfieldtype = $('#RpFieldptype').val();
                        if (Reportfieldtype == undefined) {
                            Reportfieldtype = 0;
                        }



                        $("#divReportSection").html("");
                        let inputData = {
                            __RequestVerificationToken: $('[name="__RequestVerificationToken"]').val(),
                            ReportMode: Report_Id,
                            FromDate: Fromdate,
                            ToDate: Todate,
                            Rptype: Reportformat,
                            CompName: Company,
                            Branchname: Branchname,
                            LeadNo: LeadNo,
                            Critername: crtireanam,
                            TableCount: TableCount,
                            Criteria: Criteria,
                            Category: Category,
                            FK_Area: FK_Area,
                            FK_Project: FK_Project,
                            FK_Stage: Stage,
                            FK_Expense: Expense,
                            FK_Employee: employ,
                            Detailed: $("#Detailed").val().trim() == "0" ? false : true,
                            FK_Branch: $("#BranchID").val(),
                            FK_PettyCashier: FK_PettyCashier,
                            ReportSubMode: ReportSubMode
                        };
                        let pageUrl = '@Url.Action("GetProjectReports", "Report")';
                        $.ajax({
                            url: pageUrl,
                            type: "POST",
                            data: inputData,
                            dataType: "json",
                            contentType: 'application/x-www-form-urlencoded; charset=utf-8',
                            success: function (ajaxOutput) {

                                var rptmode = $('select[name="ID_Report"] option:selected').val();

                                $("#divReportSection").load('@Url.Action("ShowReport", "Report")?rptMode=' + Report_Id, function () {
                                });
                            }
                        });




                        //}
                        //else {
                        //    NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'Please Select Format' });
                        //}
                    }
                    else {
                        //NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': 'To Date should be greater than or equal to From Date' });
                    }

                }
            }
            //}
        }
    }
////original
    //functions for report pop up window
    function popitup(url)
    {
        newwindow = window.open(url, 'name', 'height=1000,width=1000');
        if (window.focus) { newwindow.focus() }
        return false;
    }

    function fireDownload(url)
    {
        window.location.assign(url);
    }
    ///
    function ResetButton(ele) {
        cutomerticketInitialLoad()
        bindReportField();
    }
    function ResetOnChangeButton(ele) {
        let $thisForm = $(ele).closest('[perfect-class="form"]');
        $thisForm.find('[perfect-ctype="select"]').val('').selectpicker('refresh');
        $thisForm.find('[perfect-ctype="input"]').val('');
        $thisForm.find('[perfect-ctype="hidden"]').val('');
    }
    function ResetButton1(ele) {


        let $thisForm = $(ele).closest('[perfect-class="form"]');
        let pData = $thisForm.data('pData');

        if (pData)
        {

                $thisForm.find('[name="Employee"]').val(pData.Employee),
                $thisForm.find('[name="Employee_ID"]').val(pData.Employee_ID)
                $thisForm.find('[name=FromDate]').val(pData.FromDate),
                $thisForm.find('[name=ToDate]').val(pData.ToDate),
                $thisForm.find('[name=Status]').val(pData.Status).selectpicker('refresh'),
               // $thisForm.find('[name=Rptype]').val(pData.Rptype).selectpicker('refresh'),
                $thisForm.find('[name=RpFieldptype]').val(pData.RpFieldptype).selectpicker('refresh'),
                $thisForm.find('[name=ID_Report]').val(pData.ID_Report).selectpicker('refresh'),
                $thisForm.find('[name=ID_Product]').val(pData.ID_Product),
                $thisForm.find('[name=ProductName]').val(pData.ProductName),
                $thisForm.find('[name=Area_ID]').val(pData.Area_ID),
                $thisForm.find('[name=Area]').val(pData.Area),
                $thisForm.find('[name=BranchID]').val(pData.BranchID).selectpicker('refresh'),
                $thisForm.find('[name=FK_Priority]').val(pData.FK_Priority).selectpicker('refresh'),
                $thisForm.find('[name=Collectedby]').val(pData.Employee_ID),
                $thisForm.find('[name=Collectedby_ID]').val(pData.Employee_ID),
                $thisForm.find('[name=FK_Category]').val(pData.FK_Category).selectpicker('refresh'),
                $thisForm.find('[name=Criteria]').val(pData.Criteria).selectpicker('refresh')


        }
        else
        {

                $thisForm.find('[name=LgCollectedBy]').val(""),
                $thisForm.find('[name=FromDate]').val(""),
                $thisForm.find('[name=ToDate]').val(""),
                $thisForm.find('[name=Status]').val(""),
              //  $thisForm.find('[name=Rptype]').val("").selectpicker('refresh'),
                $thisForm.find('[name=RpFieldptype]').val("").selectpicker('refresh'),
                $thisForm.find('[name=ID_Report]').val("").selectpicker('refresh'),
                $thisForm.find('[name=ID_Product]').val(""),
                $thisForm.find('[name=ProductName]').val(""),
                $thisForm.find('[name=BranchID]').val("").selectpicker('refresh'),
                $thisForm.find('[name=FK_Priority]').val("").selectpicker('refresh'),
                $thisForm.find('[name="Employee_ID"]').val(""),
                $thisForm.find('[name="Employee"]').val(""),
                $thisForm.find('[name=Collectedby]').val(""),
                $thisForm.find('[name=Collectedby_ID]').val(""),
                $thisForm.find('[name=FK_Category]').val("").selectpicker('refresh')
                $thisForm.find('[name=Area_ID]').val(""),
                $thisForm.find('[name=Area]').val(""),
                $thisForm.find('[name=Criteria]').val("").selectpicker('refresh')




        }

        bindReportField();
        GetLeadFromdefault();
        $thisForm.find('[name="FromDate"]').val(moment().format('YYYY-MM-DD'));
        $thisForm.find('[name="ToDate"]').val(moment().format('YYYY-MM-DD'));
        $thisForm.validate().resetForm();
    }
    $(document).ready(function () {

        Getdepartmentdefault();
        bindReportField();
    });
    @*function GetPettyCashierList() {

         $.ajax({
                 url: "@Url.Action("getPettyCashierList", "ProjectReports")",
                type: "POST",
             data: { mode: 1 },
                dataType: "json",
                contentType: "application/x-www-form-urlencoded;charset=utf-8",
                success: function (ajaxOutput) {
                 console.log(ajaxOutput)
                    let $menuDropdown = $thisForm.find('[name=Status]');//<--- Will give place select html element

                 $menuDropdown.empty().selectpicker('refresh');
                 $menuDropdown.append($('<option/>', { "value": "" }).text("Please Select")).selectpicker('refresh')


                 if (ajaxOutput.Process.IsProcess) {

                    $.each(ajaxOutput.Data, function (key, value) {
                        $menuDropdown.append($('<option/>', { "value": value.ID_Mode }).text(value.ModeName)).selectpicker('refresh') });

                     if ($menuDropdown.attr('perfect-onSelectLoad')) {
                         $menuDropdown.val($menuDropdown.attr('perfect-onSelectLoad')).selectpicker('refresh');
                         $menuDropdown.attr('perfect-onSelectLoad', '');
                     }

                     }
                     else {
                     $.each(ajaxOutput.Process.Message, function (key, value) {
                             //toastr.warning(value, "Error");
                         NotificationMessage({ 'type': 'warning', 'heading': 'warning', 'message': value });
                         });
                     }
                     }

         });

    }*@
     function fn_selectFieldlist(ele)
    {

         let $thisForm = $(ele).closest('[perfect-class="form"]');
         var modes;
         if ($("#ID_Report").val() == 1) { modes = 2; }
         else if ($("#ID_Report").val() == 2) { modes = 1; }
         else if ($("#ID_Report").val() == 4) { modes = 11; }
        let mode = { mode : modes }


         $.ajax({
                 url: "@Url.Action("getModeList", "ProjectReports")",
                type: "POST",
             data: mode,
                dataType: "json",
                contentType: "application/x-www-form-urlencoded;charset=utf-8",
                success: function (ajaxOutput) {
                 console.log(ajaxOutput)
                    let $menuDropdown = $thisForm.find('[name=Status]');//<--- Will give place select html element

                 $menuDropdown.empty().selectpicker('refresh');
                 $menuDropdown.append($('<option/>', { "value": "" }).text("Please Select")).selectpicker('refresh')


                 if (ajaxOutput.Process.IsProcess) {

                    $.each(ajaxOutput.Data, function (key, value) {
                        $menuDropdown.append($('<option/>', { "value": value.ID_Mode }).text(value.ModeName)).selectpicker('refresh') });

                     if ($menuDropdown.attr('perfect-onSelectLoad')) {
                         $menuDropdown.val($menuDropdown.attr('perfect-onSelectLoad')).selectpicker('refresh');
                         $menuDropdown.attr('perfect-onSelectLoad', '');
                     }

                     }
                     else {
                     $.each(ajaxOutput.Process.Message, function (key, value) {
                             //toastr.warning(value, "Error");
                         NotificationMessage({ 'type': 'warning', 'heading': 'warning', 'message': value });
                         });
                     }
                     }

         });


    }

    //function OnchangeReport()
    //{
    //    if ($("#ID_Report").val() != 1) {
    //        $("#sts").hide();


    //    }
    //    else {
    //        $("#sts").show();
    //        $("#Status").validate = true;
    //    }

    //}
    //function bindReportField(ele) {
    //    fn_selectFieldlist(ele)
    //    if ($("#ID_Report").val() == 3) {
    //        $('.DivFromDate').hide();
    //        $('.DivToDate').hide();
    //        $('.DivEmployeeName').hide();
    //        $('.DivProduct').hide();
    //        $('.DivLeadType').hide();
    //        $('.DivFollowUp').hide();
    //        $('.DivFollowUpType').hide();
    //        $('.DivCriteria').hide();
    //        $('.DivStatus').hide();
    //        $('.DivLeadNo').show();
    //        $('.DivCollectedbyName').hide();
    //        $('.DivCategory').hide();



    //    }
    //    else if ($("#ID_Report").val() == 4)
    //    {
    //        $('.DivFromDate').show();
    //        $('.DivToDate').show();
    //        $('.DivEmployeeName').show();
    //        $('.DivProduct').show();
    //        $('.DivLeadType').show();
    //        $('.DivStatus').show();
    //        $('.DivCriteria').show();
    //        $('.DivFollowUp').hide();
    //        $('.DivFollowUpType').hide();
    //        $('.DivLeadNo').hide();
    //        $('.DivCollectedbyName').show();
    //        $('.DivCategory').show();
    //    }
    //    else if ($("#ID_Report").val() == 5) {
    //        $('.DivFromDate').show();
    //        $('.DivToDate').show();
    //        $('.DivEmployeeName').show();
    //        $('.DivProduct').show();
    //        $('.DivLeadType').show();
    //        $('.DivCriteria').show();
    //        $('.DivStatus').show();
    //        $('.DivFollowUp').hide();
    //        $('.DivFollowUpType').hide();

    //        $('.DivLeadNo').hide();
    //        $('.DivCollectedbyName').show();
    //        $('.DivCategory').show();
    //    }
    //    else {

    //        $('.DivFromDate').show();
    //        $('.DivToDate').show();
    //        $('.DivEmployeeName').show();
    //        $('.DivProduct').show();
    //        $('.DivLeadType').show();
    //        $('.DivFollowUp').show();
    //        $('.DivFollowUpType').show();
    //        $('.DivStatus').show();
    //        $('.DivCriteria').show();
    //        $('.DivLeadNo').hide();
    //        $('.DivCollectedbyName').show();
    //        $('.DivCategory').show();


    //    }
    //}
    //function checkLimit(ele) {
    //    let $thisForm = $(ele).closest('[perfect-class="form"]');
    //    //invalid-feedback
    //    let Fromdate = $thisForm.find('[name="FromDate"]').val();
    //    let Todate = $thisForm.find('[name="ToDate"]').val();

    //    Fromdate = new Date(Fromdate);
    //    Fromdate.setHours(0, 0, 0, 0)

    //    Todate = new Date(Todate);
    //    Todate.setHours(0, 0, 0, 0)

    //    if (Todate < Fromdate) {

    //        console.log('inside limit check if')
    //        $thisForm.find('[name="ToDate"]').closest('[perfect-class="formGroup"]').find('.limit-check').text('To Date should be greater than  From Date')
    //    }
    //    else {

    //        console.log('inside limit check else')
    //        $thisForm.find('[name="ToDate"]').closest('[perfect-class="formGroup"]').find('.limit-check').text('')
    //    }


    //}
    function checkLimit(ele) {
       debugger ;
        let $thisForm = $(ele).closest('[perfect-class="form"]');
        //invalid-feedback
        let Fromdate = $thisForm.find('[name="FromDate"]').val();
        let Todate = $thisForm.find('[name="ToDate"]').val();

        Fromdate = new Date(Fromdate);
        Fromdate.setHours(0, 0, 0, 0)

        Todate = new Date(Todate);
        Todate.setHours(0, 0, 0, 0)

        if (Todate < Fromdate) {

            console.log('inside limit check if')
            $(".ToDateerror").hide();
            $thisForm.find('[name="ToDate"]').closest('[perfect-class="formGroup"]').find('.limit-check').show();
            $thisForm.find('[name="ToDate"]').closest('[perfect-class="formGroup"]').find('.limit-check').text('To Date should be greater than or equal to From Date')
            return false;
        }
        else {

            console.log('inside limit check else')
            $thisForm.find('[name="ToDate"]').closest('[perfect-class="formGroup"]').find('.limit-check').hide();
            $thisForm.find('[name="ToDate"]').closest('[perfect-class="formGroup"]').find('.limit-check').text('')
            return true;
        }


    }
    function ValidateForm(ReportID,ele) {


        var Error = 0;
         if (ReportID == 1 || ReportID == 2 || ReportID == 3 || ReportID == 4 || ReportID == 5 ) {
            const $inp = $(".ToDate");
            console.log('inp', $inp);
            let is_empty = true;
            $inp.each((i, el) => {

                //const is_empty = !el.value.trim();
                if (!$('[name=' + $(el).attr('name') + ']').val() == undefined) {
                    is_empty = false;
                }
                else {
                    is_empty = !$('[name=' + $(el).attr('name') + ']').val();
                }

                let ErrorID = $(el).attr('data-id');
                console.log(ErrorID);
                console.log("Element", el.name, "Value >", !el.value.trim());
                if (is_empty) {
                    console.log(`field ${el.id} is empty`);
                    $('#' + ErrorID).css('display', 'block');
                    Error++;
                    console.log("While empty", Error)
                }
                else if (!is_empty) {
                    $('#' + ErrorID).css('display', 'none');
                    console.log("While not empty", Error)
                    //if (Error > 0) {
                    //    Error--;
                    //}
                }
                el.classList.toggle("is-empty", is_empty);
            });
        }
        else if (ReportID == 1) {
            const $inp = $(".FromDate");
            console.log('inp', $inp);
            let is_empty = true;
            $inp.each((i, el) => {

                //const is_empty = !el.value.trim();
                if (!$('[name=' + $(el).attr('name') + ']').val() == undefined) {
                    is_empty = false;
                }
                else {
                    is_empty = !$('[name=' + $(el).attr('name') + ']').val();
                }

                let ErrorID = $(el).attr('data-id');
                console.log(ErrorID);
                console.log("Element", el.name, "Value >", !el.value.trim());
                if (is_empty) {
                    console.log(`field ${el.id} is empty`);
                    $('#' + ErrorID).css('display', 'block');
                    Error++;
                    console.log("While empty", Error)
                }
                else if (!is_empty) {
                    $('#' + ErrorID).css('display', 'none');
                    console.log("While not empty", Error)
                    //if (Error > 0) {
                    //    Error--;
                    //}
                }
                el.classList.toggle("is-empty", is_empty);
            });
        }
        else if (ReportID == null) {

            Error == 2
            const $inp = $(".Action");
            console.log('inp', $inp);
            let is_empty = true;
            $inp.each((i, el) => {

                //const is_empty = !el.value.trim();
                if (ReportID == null) {

                    is_empty = false;
                }
                //else
                //{
                //    alert(is_empty)
                //    is_empty = !$('[name=' + $(el).attr('name') + ']').val();

                //}

                let ErrorID = $(el).attr('data-id');
                console.log('ee1', ErrorID);

                if (!is_empty) {

                    console.log(`field ${el.id} is empty`);
                    $('#' + ErrorID).css('display', 'block');
                    Error++;
                    console.log("While empty", Error)
                }
                else {
                    $('#' + ErrorID).css('display', 'none');
                    console.log("While not empty", Error)
                    //if (Error > 0) {
                    //    Error--;
                    //}
                }
                el.classList.toggle("is-empty", is_empty);
            });
        }
         else if (ReportID == 0) {
             ele.find('[name=ID_Report]').val("").selectpicker('refresh');
             Error == 2
             const $inp = $(".Action");
             console.log('inp', $inp);
             let is_empty = true;
             $inp.each((i, el) => {

                 //const is_empty = !el.value.trim();
                 if (ReportID == 0) {

                     is_empty = false;
                 }
                 //else
                 //{
                 //    alert(is_empty)
                 //    is_empty = !$('[name=' + $(el).attr('name') + ']').val();

                 //}

                 let ErrorID = $(el).attr('data-id');
                 console.log('ee1', ErrorID);

                 if (!is_empty) {

                     console.log(`field ${el.id} is empty`);
                     $('#' + ErrorID).css('display', 'block');
                     Error++;
                     console.log("While empty", Error)
                 }
                 else {
                     $('#' + ErrorID).css('display', 'none');
                     console.log("While not empty", Error)
                     //if (Error > 0) {
                     //    Error--;
                     //}
                 }
                 el.classList.toggle("is-empty", is_empty);
             });
         }
        return Error;

    }

    function ValidateAddrepdetails(Rptval) {

        var Error = 0;
        let $inp;


        if (Rptval != 4 && Rptval != 5) { $inp = $(".Action"); }
        else if (Rptval == 4 || Rptval == 5) { $inp = $(".Actionbill"); }
        else if (Rptval == 0) { $inp = $(".Action"); }

        let is_empty;
        $inp.each((i, el) => {
            if (!$('[name=' + $(el).attr('name') + ']').val() == undefined) {
                is_empty = false;
            }
            else {
                if ($('[name=' + $(el).attr('name') + ']').val() == 0 || $('[name=' + $(el).attr('name') + ']').val() == "") {
                    is_empty = true;
                }
                else {
                    is_empty = !$('[name=' + $(el).attr('name') + ']').val();
                }
            }
            let ErrorID = $(el).attr('data-id');
            if (ErrorID != undefined) {
                if (is_empty) {
                    $('#' + ErrorID).css('display', 'block');
                    Error++;
                }
                else if (!is_empty) {
                    $('#' + ErrorID).css('display', 'none');
                }
                el.classList.toggle("is-empty", is_empty);
            }
        });
        return Error;
    }


    $.validator.addMethod('dateValidationGtr', function (value, element, param) {
        var d = new Date(value);
        var strDate = d.getFullYear() + "/" + (d.getMonth() ) + "/" + d.getDate();

        var s = new Date($(param).val());
        var endDate = s.getFullYear() + "/" + (s.getMonth() ) + "/" + s.getDate();
        var sysdt = new Date();

        return this.optional(element) || (sysdt - new Date(strDate)) < (sysdt - new Date(endDate));


    }, 'Date should be greater than filing date');




      function getfunctionAssignchnage(ele) {

        let $thisForm = $(ele).closest('[perfect-class="form"]');

          let ProjectID = $thisForm.find('[name=FK_Project]').val() == "" ? $thisForm.find('[name=FK_Project]').val() : $thisForm.find('[name=FK_Project]').val();
          console.log('123FK_Project', $thisForm.find('[name=FK_Project]').val());
          console.log('123FK_Project12', ProjectID);
        let $placeDropdown = $thisForm.find('[name=StageID]');//<--- Will give place select html element
        $placeDropdown.empty();
        $placeDropdown.append($('<option/>', { "value": '' }).text('Please select')).selectpicker('refresh');
        $thisForm.find('[name=TeamID]').val('').selectpicker('refresh');

        let inputData = {
            __RequestVerificationToken: $('[name="__RequestVerificationToken"]').val(),
            FK_Project: ProjectID,
        };
        $.ajax({
            url: "@Url.Action("GetProjectStages", "MaterialAllocation")",
            type: "POST",

            data: inputData,
            dataType: "json",
            contentType: "application/x-www-form-urlencoded;charset=utf-8",
            success: function (ajaxOutput) {



                if (ajaxOutput.Process.IsProcess) {

                    $.each(ajaxOutput.Data, function (key, value) {
                        $placeDropdown.append($('<option/>', { "value": value.ProjectStagesID }).text(value.StageName)).selectpicker('refresh')
                    });


                }
                else {
                    $.each(ajaxOutput.Process.Message, function (key, value) {

                    });
                }
            }

        });

    }
     function generatePdf(ele) {
        var cdata;

        var _ReportName = $("#ID_Report option:selected").text();
        let $container = $(ele).closest('[perfect-class="form"]');
        const obj = {
            "Project Name": $('input[name="ProjectName"]').val()
        };
        const obj2 = {

            "From": $('input[name="FromDate"]').val(),
            "To": $('input[name="ToDate"]').val()
        }



        console.log(obj, '--obj--');
        console.log(obj2, '--obj2--');


        var str = "";
        var str2 = "";
       // var str2 = `Report : ${_ReportName} Report`;
        var num = 0;

        for (var i in obj) {
            if (obj[i] != "" && obj[i] != "Please Select" && obj[i] != 0) {

                if (num === 0) {
                    str = "Filter By : ";
                }

                str = str + i + ' : ' + obj[i] + ' , ';
                num++;
            }

        };
        //for (var i in obj2) {
        //    if (obj2[i] != "" && obj2[i] != undefined) {

        //        str2 = str2 + i + ' : ' + changeDateFormat(obj2[i]) + ' , ';
        //    }

        //};

        //if (obj2['From'] && obj2['To']) {
        //    //debugger
        //    str2 = str2 + ` ,For the Period  ${changeDateFormat(obj2['From'])} - ${changeDateFormat(obj2['To'])}`;
        //}


        var upperhead = {


            columnStyles: { 0: { halign: 'left', textColor: "black", fontSize: 14, fillColor: false, } },
            columnStyles: { 1: { halign: 'left', textColor: "black", fontSize: 11, fillColor: false, } },

            body: [

                [
                     str2    +
                    '\n' + str
                ],
            ],

            theme: 'plain',
            styles: {
                // fillColor: '#3366ff',
                color: 'black',
                rowHeight: 1 // Adjust the row height value to reduce the space between rows
            },
            didDrawCell: function (data) {
                data.cell.styles.lineHeight = 0.2; // Adjust the line height value to your preference
            }



        };

        ///Test

         $.ajax({
              url: '@Url.Action("GetCompanyDetails", "Home")',
              type: "GET",
              dataType: "json",
              contentType: "application/x-www-form-urlencoded;charset=utf-8",
                 success: function (ajaxOutput) {


                     cdata = ajaxOutput;

                },
             complete: function () {

                 //LeadType = 'My Leads';
                 var head = [];
                 var head1 = [];
                 var ptableData = {};
                 var ptableData1 = {};
                 debugger;

                     console.log('todoList', Data)
                     head = ["Sl.No", "Team Name", "Department", "Employee", "Employee Role"];
                     ptableData = {
                         columns: [

                             { title: "Team Name", dataKey: "TeamName" },
                             { title: "Department", dataKey: "Department" },
                             { title: "Employee", dataKey: "Employee" },
                             { title: "Employee Role", dataKey: "EmployeeRole" },

                         ],
                         rows: Data

                     };
                     head1 = ["Sl.No", "Stage Name ", "Team", "Start Date", "Duration", "End Date", "Work percentage", "Current Status"];
                     ptableData1 = {
                         columns: [

                             { title: "Stage Name", dataKey: "StageName" },
                             { title: "Team", dataKey: "TeamName" },
                             { title: "Start Date", dataKey: "StartDate" },
                             { title: "Duration", dataKey: "Duration" },
                             { title: "End Date", dataKey: "EndDate" },
                             { title: "Work Percentage", dataKey: "WorkPercentage" },
                             { title: "Current Status", dataKey: "CurrentStatus" },



                         ],
                         rows: StageDetailsData

                 };
                 head2 = ["Sl .No", "Date", "Item Name", "Quantity", "Unit", "Rate", "Amount",];
                 ptableData2 = {
                     columns: [

                         { title: "Date", dataKey: "Date" },
                         { title: "Item Name", dataKey: "ItemName" },
                         { title: "Quantity", dataKey: "Quantity" },
                         { title: "Unit", dataKey: "Unit" },
                         { title: "Rate", dataKey: "Rate" },
                         { title: "Amount", dataKey: "Amount" },




                     ],
                     rows: MatAllocationDetData

                 };
                 console.log(StageDetailsData, 'Data5656')
                 head3 = ["Sl .No", "Date", "Item Name", "Quantity", "Unit", "Rate", "Amount",];
                 ptableData3 = {
                     columns: [

                         { title: "Date", dataKey: "Date" },
                         { title: "Item Name", dataKey: "ItemName" },
                         { title: "Quantity", dataKey: "Quantity" },
                         { title: "Unit", dataKey: "Unit" },
                         { title: "Rate", dataKey: "Rate" },
                         { title: "Amount", dataKey: "Amount" },




                     ],
                     rows: MatUsageDetData

                 };
                 head4 = ["Sl .No", "Date", "Item Name", "Quantity", "Unit", "Rate", "Amount",];
                 ptableData4 = {
                     columns: [

                         { title: "Date", dataKey: "Date" },
                         { title: "Item Name", dataKey: "ItemName" },
                         { title: "Quantity", dataKey: "Quantity" },
                         { title: "Unit", dataKey: "Unit" },
                         { title: "Rate", dataKey: "Rate" },
                         { title: "Amount", dataKey: "Amount" },




                     ],
                     rows: MatWastageDetData

                 };
                 head5 = ["Sl .No", "Date", "Item Name", "Quantity", "Unit", "Rate", "Amount",];
                 ptableData5 = {
                     columns: [

                         { title: "Date", dataKey: "Date" },
                         { title: "Item Name", dataKey: "ItemName" },
                         { title: "Quantity", dataKey: "Quantity" },
                         { title: "Unit", dataKey: "Unit" },
                         { title: "Rate", dataKey: "Rate" },
                         { title: "Amount", dataKey: "Amount" },




                     ],
                     rows: MatDamageDetData

                 };

                 head6 = ["Sl .No", "Date", "Work Type", "Stage", "Sub Contractor", "Amount", "Remarks",];
                 ptableData6 = {
                     columns: [

                         { title: "Date", dataKey: "Date" },
                         { title: "Work Type", dataKey: "WorkType" },
                         { title: "Stage", dataKey: "Stage" },
                         { title: "Sub Contractor", dataKey: "SubContractor" },
                         { title: "Amount", dataKey: "Amount" },
                         { title: "Remarks", dataKey: "Remarks" },




                     ],
                     rows: ExtraWorkDetData

                 };

                 head7 = ["Sl .No", "Date", "Expense", "Stage", "Debit", "Credit", "Remarks",];
                 ptableData7 = {
                     columns: [

                         { title: "Date", dataKey: "Date" },
                         { title: "Expense", dataKey: "Expense" },
                         { title: "Stage", dataKey: "Stage" },
                         { title: "Debit", dataKey: "Debit" },
                         { title: "Credit", dataKey: "Credit" },
                         { title: "Remarks", dataKey: "Remarks" },




                     ],
                     rows: projectTranactionDetData

                 };

                 head8 = ["Sl .No", "Date", "Resource Type", "Stage", "Quantity","Amount" ];
                 ptableData8 = {
                     columns: [

                         { title: "Date", dataKey: "Date" },
                         { title: "ResourceType", dataKey: "ResourceType" },
                         { title: "Stage", dataKey: "Stage" },
                         { title: "Quantity", dataKey: "Quantity" },
                         { title: "Amount", dataKey: "" },





                     ],
                     rows: ResourceDetData

                 };
                 head9 = ["Sl .No", "Date", "Bill Mode", "Amount", "Tax", "Other Charges", "Amount"];
                 ptableData9 = {
                     columns: [

                         { title: "Date", dataKey: "Date" },
                         { title: "Bill Mode", dataKey: "BillMode" },
                         { title: "Amount", dataKey: "Amount" },
                         { title: "Tax", dataKey: "Tax" },
                         { title: "Other Charges", dataKey: "OtherCharges" },
                         { title: "Amount", dataKey: "Amount" },





                     ],
                     rows: ProjectbiilingData

                 };

                     const obj = {

                                startY: 5,
                         head: [['Project Details', '', '','','','']],
                         body: [

                                    ['Project Name', reportdetaildata[0].ProjectName == "" ? "" : reportdetaildata[0].ProjectName, 'Project Amount', reportdetaildata[0].ProjectAmount == "" ? "0" : reportdetaildata[0].ProjectAmount, 'Branch Name', reportdetaildata[0].BranchName == "" ? "" : reportdetaildata[0].BranchName],
                                    ['Created Date', reportdetaildata[0].CreatedDate == "" ? "" : reportdetaildata[0].CreatedDate, 'Final Amount', reportdetaildata[0].FinalAmount == "" ? "0" : reportdetaildata[0].FinalAmount, 'Lead No', reportdetaildata[0].LeadNo == "" ? "" : reportdetaildata[0].LeadNo],
                             ['Short Name', reportdetaildata[0].ShortName == "" ? "" : reportdetaildata[0].ShortName, 'Duration', reportdetaildata[0].Duration == "" ? "" : reportdetaildata[0].Duration, 'Contact No', reportdetaildata[0].ContactNo == "" ? "" : reportdetaildata[0].ContactNo],
                             ['Category', reportdetaildata[0].Category == "" ? "" : reportdetaildata[0].Category, ' Due Date', reportdetaildata[0].DueDate == "" ? "" : reportdetaildata[0].DueDate, 'Address', reportdetaildata[0].Address == "" ? "" : reportdetaildata[0].Address]

                                 ],
                                theme: 'striped',
                                styles: {
                                    //lineWidth: 0.2,
                                    //lineColor: 0,
                                    fontSize: 8
                                },
                                 headerStyles: {
                                     fillColor: '#2aa2ad', // Set the fill color of the header
                                     textColor: '#FFFFFF' // Set the text color of the header
                                 },
                                showHead: 'everyPage',
                                rowPageBreak: 'avoid',
                                pageBreak: 'auto',
                                margin: { top: 30, bottom: 40 }
                          }
                     const descriptionobj = {

                         startY: 5,
                         head: [['', '', '', '']],
                         body: [
                             ['Completed Percentage', ProjectDescrption[0].CompletedPercentage == "" ? "0" : ProjectDescrption[0].CompletedPercentage, 'Amount Due', ProjectDescrption[0].AmountDue],
                             ['Total Expense', ProjectDescrption[0].TotalExpense == "" ? "0" : ProjectDescrption[0].TotalExpense, 'Total Income', ProjectDescrption[0].TotalIncome == "" ? "0" : ProjectDescrption[0].TotalIncome],
                             [ProjectDescrption[0].ProfitLossLabel1, ProjectDescrption[0].ProfitLossAmount, ProjectDescrption[0].ProfitLossLabel2, ProjectDescrption[0].ProfitLossAPer]


                         ],
                         theme: 'striped',
                         styles: {
                             //lineWidth: 0.2,
                             //lineColor: 0,
                             fontSize: 8
                         },
                         headerStyles: {
                             fillColor: '#2aa2ad', // Set the fill color of the header
                             textColor: '#FFFFFF' // Set the text color of the header
                         },
                         showHead: 'everyPage',
                         rowPageBreak: 'avoid',
                         pageBreak: 'auto',
                         margin: { top: 30, bottom: 40 }
                 }
                 //const logiobj = {
                 //    inAllPages: true, //by default = false, just in the last page
                 //    src: "/CompanyLogoImg/company_1 / Company Logo.png",
                 //    type: "png",
                 //    // type: 'PNG', //optional, when src= data:uri (nodejs case)
                 //    width: 53.33,
                 //    height: 26.66,
                 //    margin: {
                 //        top: 0,
                 //        left: 0
                 //    }
                 //}
                     const inputdata = {
                         ptitle: "Project Profile",
                         phead: [head],
                         phead1: [head1],
                         phead2: [head2],
                         phead3: [head3],
                         phead4: [head4],
                         phead5: [head5],
                         phead6: [head6],
                         phead7: [head7],
                         phead8: [head8],
                         phead9: [head9],
                         cdata,
                         upperhead,
                         ptableData,
                         ptableData1,
                         ptableData2,
                         ptableData3,
                         ptableData4,
                         ptableData5,
                         ptableData6,
                         ptableData7,
                         ptableData8,
                         ptableData9,
                         ptableDataArray: [ptableData, ptableData1, ptableData2, ptableData3, ptableData4, ptableData5, ptableData6, ptableData7, ptableData8, ptableData9],
                         filename: 'Project Profile' + $('input[name="FK_Project"]').val(),
                         pageSize: "a4",
                         PageOrientation: "l",
                         uppertable: obj,
                         footerdata: descriptionobj


                     }
                     console.log(inputdata, 'inputdata')
                     exportPdfMultiple(inputdata);


                }
         });
    }
     function Getdepartmentdefault() {
        let $thisForm = $('[perfect-class="form"]');
        $.ajax({
            url: '@Url.Action("GetEmployeeLeadDefault", "ServiceReport")',
            type: "Get",
            dataType: "json",
            contentType: "application/json",
            success: function (ajaxOutput) {//<----- if ajax method executed succesfully,  we get the data passed from controller in this variable  => success: function (variable) {

                if (ajaxOutput.Process.IsProcess) {
                    //var stateModel = createSelectList({ data: ajaxOutput.Data, hideColumn: ['EmpID'] });
                    $.each(ajaxOutput.Data, function (key, value) {

                        console.log('>_ Search button > list click', value);

                        $thisForm.find('[name=BranchID]').val(value.ID_Branch).selectpicker('refresh');
                        $thisForm.find('[name=DepartmentID]').val(value.FK_Department).selectpicker('refresh');
                        $thisForm.find('[name=FK_BranchMode]').val(value.FK_BranchMode);

                        let Mode = $thisForm.find('[name=FK_BranchMode]').val();
                        let user = '@ViewBag.Admin';
                        console.log('user', user);
                        if (parseFloat(Mode) == 1 && user == 'True') {
                            $thisForm.find('[name=BranchID]').val(value.ID_Branch).selectpicker('refresh');
                            $('#BranchID').prop('disabled', false);
                        }
                        else {

                            $('#BranchID').prop('disabled', true);
                        }


                    });




                }
                else {
                    $.each(ajaxOutput.Process.Message, function (key, value) {
                        NotificationMessage({ 'type': 'error', 'heading': 'Error', 'message': value });
                    });
                }

            },


        });
    }

</script>
<script src="~/Scripts/jspdf.min.js"></script>
<script src="~/Scripts/jspdf.plugin.autotable.min.js"></script>
<script src="~/Scripts/exportFile.js"></script>
<script src="~/Scripts/xlsx.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
<script src="//cdn.rawgit.com/ashl1/datatables-rowsgroup/v1.0.0/dataTables.rowsGroup.js"></script>


